{"version":3,"file":"SSR.js","names":["React","platform","getPlatform","computeBrowserInfo","DOMContext","getDOM","useObjectMemo","ConfigProviderOverride","SSRWrapper","userAgent","browserInfo","children","dom"],"sources":["../../../src/lib/SSR.tsx"],"sourcesContent":["import * as React from 'react';\nimport { platform as getPlatform } from './platform';\nimport { BrowserInfo, computeBrowserInfo } from './browser';\nimport { DOMContext, getDOM } from './dom';\nimport { useObjectMemo } from '../hooks/useObjectMemo';\nimport { ConfigProviderOverride } from '../components/ConfigProvider/ConfigProviderOverride';\n\nexport interface SSRWrapperProps {\n  userAgent?: string;\n  browserInfo?: BrowserInfo;\n  children?: React.ReactNode;\n}\n\n/**\n * @see https://vkcom.github.io/VKUI/#/SSR\n */\nexport const SSRWrapper = ({ userAgent, browserInfo, children }: SSRWrapperProps) => {\n  if (!browserInfo && userAgent) {\n    browserInfo = computeBrowserInfo(userAgent);\n  }\n\n  const dom = useObjectMemo(getDOM());\n\n  return (\n    <ConfigProviderOverride platform={getPlatform(browserInfo)}>\n      <DOMContext.Provider value={dom}>{children}</DOMContext.Provider>\n    </ConfigProviderOverride>\n  );\n};\n"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,QAAQ,IAAIC,WAAW,QAAQ,YAAY;AACpD,SAAsBC,kBAAkB,QAAQ,WAAW;AAC3D,SAASC,UAAU,EAAEC,MAAM,QAAQ,OAAO;AAC1C,SAASC,aAAa,QAAQ,wBAAwB;AACtD,SAASC,sBAAsB,QAAQ,qDAAqD;AAQ5F;AACA;AACA;AACA,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAU,OAA8D;EAAA,IAAxDC,SAAS,QAATA,SAAS;IAAEC,WAAW,QAAXA,WAAW;IAAEC,QAAQ,QAARA,QAAQ;EAC3D,IAAI,CAACD,WAAW,IAAID,SAAS,EAAE;IAC7BC,WAAW,GAAGP,kBAAkB,CAACM,SAAS,CAAC;EAC7C;EAEA,IAAMG,GAAG,GAAGN,aAAa,CAACD,MAAM,EAAE,CAAC;EAEnC,oBACE,oBAAC,sBAAsB;IAAC,QAAQ,EAAEH,WAAW,CAACQ,WAAW;EAAE,gBACzD,oBAAC,UAAU,CAAC,QAAQ;IAAC,KAAK,EAAEE;EAAI,GAAED,QAAQ,CAAuB,CAC1C;AAE7B,CAAC"}