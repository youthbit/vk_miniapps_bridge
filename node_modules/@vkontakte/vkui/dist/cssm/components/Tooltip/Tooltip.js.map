{"version":3,"file":"Tooltip.js","names":["React","ReactDOM","classNames","hasReactNode","Subhead","useNavTransition","PopperArrow","usePopper","tooltipContainerAttr","useExternRef","useDOM","warnOnce","useGlobalEventListener","isDOMTypeElement","element","isValidElement","type","warn","IS_DEV","process","env","NODE_ENV","SimpleTooltip","forwardRef","ref","appearance","header","text","arrow","style","popperStyles","attributes","className","container","containerClassName","restContainerAttributes","styles","mapAlignX","x","getPlacement","alignX","alignY","filter","p","join","isVerticalPlacement","placement","startsWith","Tooltip","children","isShown","_isShown","offsetX","offsetY","onClose","cornerOffset","cornerAbsoluteOffset","restProps","entering","useState","tooltipRef","setTooltipRef","target","setTarget","multiChildren","Children","count","primitiveChild","JSON","stringify","Boolean","tooltipContainer","useMemo","closest","strategy","position","Error","modifiers","name","options","offset","push","padding","enabled","phase","fn","state","modifiersData","undefined","y","_placement","document","passive","childRef","props","getRootRef","patchedRef","child","cloneElement","createPortal","el","popper"],"sources":["../../../../src/components/Tooltip/Tooltip.tsx"],"sourcesContent":["import * as React from 'react';\nimport ReactDOM from 'react-dom';\nimport { classNames, hasReactNode } from '@vkontakte/vkjs';\nimport { Subhead } from '../Typography/Subhead/Subhead';\nimport { useNavTransition } from '../NavTransitionContext/NavTransitionContext';\nimport { PopperArrow } from '../PopperArrow/PopperArrow';\nimport { Modifier, usePopper } from 'react-popper';\nimport { Placement } from '@popperjs/core';\nimport { tooltipContainerAttr } from './TooltipContainer';\nimport { useExternRef } from '../../hooks/useExternRef';\nimport { useDOM } from '../../lib/dom';\nimport { warnOnce } from '../../lib/warnOnce';\nimport { useGlobalEventListener } from '../../hooks/useGlobalEventListener';\nimport { HasRootRef } from '../../types';\nimport styles from './Tooltip.module.css';\n\ninterface SimpleTooltipProps extends Partial<TooltipProps> {\n  target?: HTMLDivElement;\n  style?: {\n    arrow: React.CSSProperties;\n    container: React.CSSProperties;\n  };\n  attributes?: {\n    arrow: React.HTMLAttributes<HTMLDivElement> | null;\n    container: React.HTMLAttributes<HTMLDivElement> | null;\n  };\n  className?: string;\n}\n\n/**\n * Перебиваем `ref`.\n *\n * В оригинальном `React.DOMElement` задаётся `React.LegacyRef<T>`, в котором есть `string`.\n * Когда как `{ ref: \"string\" }` уже давно депрекейтнут.\n */\ninterface DOMElement<P extends React.HTMLAttributes<T> | React.SVGAttributes<T>, T extends Element>\n  extends React.DOMElement<P, T> {\n  ref: React.Ref<T>;\n}\n\nconst isDOMTypeElement = <\n  P extends React.HTMLAttributes<T> | React.SVGAttributes<T>,\n  T extends Element,\n>(\n  element: React.ReactElement,\n): element is DOMElement<P, T> => {\n  return React.isValidElement(element) && typeof element.type === 'string';\n};\n\nconst warn = warnOnce('Tooltip');\nconst IS_DEV = process.env.NODE_ENV === 'development';\n\nconst SimpleTooltip = React.forwardRef<HTMLDivElement, SimpleTooltipProps>(function SimpleTooltip(\n  { appearance = 'accent', header, text, arrow, style: popperStyles = {}, attributes, className },\n  ref,\n) {\n  const { className: containerClassName, ...restContainerAttributes } = attributes?.container ?? {};\n\n  return (\n    <div\n      className={classNames(\n        styles['Tooltip'],\n        styles[`Tooltip--appearance-${appearance}`],\n        className,\n      )}\n    >\n      <div\n        className={classNames(styles['Tooltip__container'], containerClassName)}\n        ref={ref}\n        style={popperStyles.container}\n        {...restContainerAttributes}\n      >\n        {arrow && (\n          <PopperArrow\n            style={popperStyles.arrow}\n            attributes={attributes?.arrow}\n            arrowClassName={styles['Tooltip__arrow']}\n          />\n        )}\n        <div className={styles['Tooltip__content']}>\n          {header && (\n            <Subhead weight=\"2\" className={styles['Tooltip__title']}>\n              {header}\n            </Subhead>\n          )}\n          {text && <Subhead className={styles['Tooltip__text']}>{text}</Subhead>}\n        </div>\n      </div>\n    </div>\n  );\n});\n\nexport interface TooltipProps {\n  /**\n   * **Важно**: если в `children` передан React-компонент, то необходимо убедиться в том, что он поддерживает\n   * свойство `getRootRef`, которое должно возвращаться ссылку на корневой DOM-элемент компонента,\n   * иначе тултип показан не будет. Если передан React-element, то такой проблемы нет.\n   */\n  children: React.ReactElement<HasRootRef<any>> | React.ReactElement;\n  /**\n   * Стиль отображения подсказки\n   */\n  appearance?: 'accent' | 'neutral' | 'white' | 'black' | 'inversion';\n  /**\n   * Если передан `false`, то рисуется просто `children`.\n   */\n  isShown?: boolean;\n  /**\n   * Текст тултипа.\n   */\n  text?: React.ReactNode;\n  /**\n   * Заголовок тултипа.\n   */\n  header?: React.ReactNode;\n  /**\n   * Положение по горизонтали (прижатие к левому или правому краю `children`).\n   * Если не задано, позиция по горизонтали определятся автоматически\n   */\n  alignX?: 'center' | 'left' | 'right';\n  /**\n   * Положение по вертикали (расположение над или под `children`).\n   * Если не задано, позиция по вертикали определятся автоматически\n   */\n  alignY?: 'top' | 'bottom';\n  /**\n   * Сдвиг по горизонтали (относительно портала, в котором рисуется тултип).\n   */\n  offsetX?: number;\n  /**\n   * Сдвиг по вертикали (относительно портала, в котором рисуется тултип).\n   */\n  offsetY?: number;\n  /**\n   * Отображать ли стрелку, указывающую на якорный элемент\n   */\n  arrow?: boolean;\n  /**\n   * Сдвиг стрелочки относительно центра дочернего элемента.\n   */\n  cornerOffset?: number;\n  /**\n   * Сдвиг стрелочки относительно ширины тултипа\n   */\n  cornerAbsoluteOffset?: number;\n  /**\n   * Callback, который вызывается при клике по любому месту в пределах экрана.\n   */\n  onClose?: () => void;\n  /**\n   * По умолчанию компонент выберет наилучшее расположение сам. Но его можно задать извне с помощью этого свойства\n   */\n  placement?: Placement;\n  /**\n   * Пользовательские css-классы, будут добавлены на root-элемент\n   */\n  className?: string;\n}\n\nfunction mapAlignX(x: TooltipProps['alignX']) {\n  switch (x) {\n    case 'left':\n      return 'start';\n    case 'right':\n      return 'end';\n    default:\n      return '';\n  }\n}\nfunction getPlacement(alignX: TooltipProps['alignX'], alignY: TooltipProps['alignY']): Placement {\n  return [alignY || 'bottom', mapAlignX(alignX || 'left')]\n    .filter((p) => !!p)\n    .join('-') as Placement;\n}\nfunction isVerticalPlacement(placement: Placement) {\n  return placement.startsWith('top') || placement.startsWith('bottom');\n}\n\n/**\n * @see https://vkcom.github.io/VKUI/#/Tooltip\n */\nexport const Tooltip = ({\n  children,\n  isShown: _isShown = true,\n  offsetX = 0,\n  offsetY = 15,\n  alignX,\n  alignY,\n  onClose,\n  cornerOffset = 0,\n  cornerAbsoluteOffset,\n  appearance,\n  arrow = true,\n  placement,\n  ...restProps\n}: TooltipProps) => {\n  const { entering } = useNavTransition();\n  const isShown = _isShown && !entering;\n  const [tooltipRef, setTooltipRef] = React.useState<HTMLElement | null>(null);\n  const [target, setTarget] = React.useState<HTMLElement>();\n\n  if (IS_DEV) {\n    const multiChildren = React.Children.count(children) > 1;\n    // Empty children is a noop\n    const primitiveChild = hasReactNode(children) && typeof children !== 'object';\n    (multiChildren || primitiveChild) &&\n      warn(\n        [\n          'children должен быть одним React элементом, получено',\n          multiChildren && 'несколько',\n          primitiveChild && JSON.stringify(children),\n        ]\n          .filter(Boolean)\n          .join(' '),\n        'error',\n      );\n  }\n\n  /* eslint-disable no-restricted-properties */\n  /* eslint-disable @typescript-eslint/no-unnecessary-type-assertion*/\n  const tooltipContainer = React.useMemo(\n    () => target?.closest(`[${tooltipContainerAttr}]`) as HTMLDivElement,\n    [target],\n  );\n  const strategy = React.useMemo(\n    () => (target?.style.position === 'fixed' ? 'fixed' : 'absolute'),\n    [target],\n  );\n  /* eslint-enable @typescript-eslint/no-unnecessary-type-assertion*/\n  /* eslint-enable no-restricted-properties */\n\n  if (IS_DEV && target && !tooltipContainer) {\n    throw new Error('Use TooltipContainer for Tooltip outside Panel (see docs)');\n  }\n\n  const modifiers = React.useMemo(() => {\n    const modifiers: Array<Modifier<string>> = [\n      {\n        name: 'offset',\n        options: {\n          offset: [offsetX, offsetY],\n        },\n      },\n      {\n        name: 'preventOverflow',\n      },\n      {\n        name: 'flip',\n      },\n    ];\n\n    if (arrow) {\n      modifiers.push({\n        name: 'arrow',\n        options: {\n          padding: 14,\n        },\n      });\n      modifiers.push({\n        name: 'arrowOffset',\n        enabled: true,\n        phase: 'main',\n        fn({ state }) {\n          if (!state.modifiersData.arrow) {\n            return;\n          }\n          if (isVerticalPlacement(state.placement)) {\n            if (cornerAbsoluteOffset !== undefined) {\n              state.modifiersData.arrow.x = cornerAbsoluteOffset;\n            } else {\n              if (state.modifiersData.arrow?.x !== undefined) {\n                state.modifiersData.arrow.x += cornerOffset;\n              }\n            }\n          } else {\n            if (cornerAbsoluteOffset !== undefined) {\n              state.modifiersData.arrow.y = cornerAbsoluteOffset;\n            } else {\n              if (state.modifiersData.arrow?.y !== undefined) {\n                state.modifiersData.arrow.y += cornerOffset;\n              }\n            }\n          }\n        },\n      });\n    }\n\n    return modifiers;\n  }, [arrow, cornerAbsoluteOffset, cornerOffset, offsetX, offsetY]);\n\n  const _placement = placement ?? getPlacement(alignX, alignY);\n  const { styles: popperStyles, attributes } = usePopper(target, tooltipRef, {\n    strategy,\n    placement: _placement,\n    modifiers,\n  });\n\n  const { document } = useDOM();\n  useGlobalEventListener(document, 'click', isShown && onClose, {\n    passive: true,\n  });\n  // NOTE: setting isShown to true used to trigger usePopper().forceUpdate()\n\n  const childRef = isDOMTypeElement<React.HTMLAttributes<HTMLElement>, HTMLElement>(children)\n    ? children.ref\n    : React.isValidElement<HasRootRef<HTMLElement>>(children)\n    ? children.props.getRootRef\n    : null;\n  const patchedRef = useExternRef(setTarget, childRef);\n  const child = React.isValidElement(children)\n    ? React.cloneElement(children, {\n        [isDOMTypeElement(children) ? 'ref' : 'getRootRef']: patchedRef,\n      })\n    : children;\n\n  return (\n    <React.Fragment>\n      {child}\n      {isShown &&\n        target != null &&\n        ReactDOM.createPortal(\n          <SimpleTooltip\n            {...restProps}\n            appearance={appearance}\n            arrow={arrow}\n            ref={(el) => setTooltipRef(el)}\n            style={{\n              arrow: popperStyles.arrow,\n              container: popperStyles.popper,\n            }}\n            attributes={{\n              arrow: attributes.arrow ?? null,\n              container: attributes.popper ?? null,\n            }}\n          />,\n          tooltipContainer,\n        )}\n    </React.Fragment>\n  );\n};\n"],"mappings":"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"}