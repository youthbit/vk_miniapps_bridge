{"version":3,"file":"useEnsuredControl.js","names":["React","useEnsuredControl","onChangeProp","onChange","disabled","props","useCustomEnsuredControl","value","onChangeValue","useCallback","e","target","defaultValue","isControlled","undefined","useState","localValue","setLocalValue","v"],"sources":["../../../src/hooks/useEnsuredControl.ts"],"sourcesContent":["import * as React from 'react';\n\ninterface UseEnsuredControlProps<V, E extends React.ChangeEvent<any>> {\n  value?: V;\n  onChange?: (e: E) => any;\n  defaultValue: V;\n  disabled?: boolean | undefined;\n}\n\nexport function useEnsuredControl<V, E extends React.ChangeEvent<any>>({\n  onChange: onChangeProp,\n  disabled,\n  ...props\n}: UseEnsuredControlProps<V, E>): [V | undefined, (e: E) => any] {\n  const [value, onChangeValue] = useCustomEnsuredControl(props);\n\n  const onChange = React.useCallback(\n    (e: E) => {\n      if (disabled) {\n        return;\n      }\n\n      onChangeValue(e.target.value);\n      onChangeProp && onChangeProp(e);\n    },\n    [onChangeValue, onChangeProp, disabled],\n  );\n\n  return [value, onChange];\n}\n\ninterface UseCustomEnsuredControlProps<V> {\n  value?: V;\n  onChange?: (v: V) => any;\n  defaultValue: V;\n  disabled?: boolean | undefined;\n}\n\nexport function useCustomEnsuredControl<V>({\n  disabled,\n  onChange: onChangeProp,\n  defaultValue,\n  value,\n}: UseCustomEnsuredControlProps<V>): [V | undefined, (e: V) => any] {\n  const isControlled = value !== undefined;\n  const [localValue, setLocalValue] = React.useState(defaultValue);\n\n  const onChange = React.useCallback(\n    (v: V) => {\n      if (disabled) {\n        return;\n      }\n\n      !isControlled && setLocalValue(v);\n      onChangeProp && onChangeProp(v);\n    },\n    [disabled, isControlled, onChangeProp],\n  );\n\n  return [isControlled ? value : localValue, onChange];\n}\n"],"mappings":";;;AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAS9B,OAAO,SAASC,iBAAiB,OAIgC;EAAA,IAHrDC,YAAY,QAAtBC,QAAQ;IACRC,QAAQ,QAARA,QAAQ;IACLC,KAAK;EAER,4BAA+BC,uBAAuB,CAACD,KAAK,CAAC;IAAA;IAAtDE,KAAK;IAAEC,aAAa;EAE3B,IAAML,QAAQ,GAAGH,KAAK,CAACS,WAAW,CAChC,UAACC,CAAI,EAAK;IACR,IAAIN,QAAQ,EAAE;MACZ;IACF;IAEAI,aAAa,CAACE,CAAC,CAACC,MAAM,CAACJ,KAAK,CAAC;IAC7BL,YAAY,IAAIA,YAAY,CAACQ,CAAC,CAAC;EACjC,CAAC,EACD,CAACF,aAAa,EAAEN,YAAY,EAAEE,QAAQ,CAAC,CACxC;EAED,OAAO,CAACG,KAAK,EAAEJ,QAAQ,CAAC;AAC1B;AASA,OAAO,SAASG,uBAAuB,QAK6B;EAAA,IAJlEF,QAAQ,SAARA,QAAQ;IACEF,YAAY,SAAtBC,QAAQ;IACRS,YAAY,SAAZA,YAAY;IACZL,KAAK,SAALA,KAAK;EAEL,IAAMM,YAAY,GAAGN,KAAK,KAAKO,SAAS;EACxC,sBAAoCd,KAAK,CAACe,QAAQ,CAACH,YAAY,CAAC;IAAA;IAAzDI,UAAU;IAAEC,aAAa;EAEhC,IAAMd,QAAQ,GAAGH,KAAK,CAACS,WAAW,CAChC,UAACS,CAAI,EAAK;IACR,IAAId,QAAQ,EAAE;MACZ;IACF;IAEA,CAACS,YAAY,IAAII,aAAa,CAACC,CAAC,CAAC;IACjChB,YAAY,IAAIA,YAAY,CAACgB,CAAC,CAAC;EACjC,CAAC,EACD,CAACd,QAAQ,EAAES,YAAY,EAAEX,YAAY,CAAC,CACvC;EAED,OAAO,CAACW,YAAY,GAAGN,KAAK,GAAGS,UAAU,EAAEb,QAAQ,CAAC;AACtD"}