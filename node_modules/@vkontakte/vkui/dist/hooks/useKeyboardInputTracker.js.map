{"version":3,"file":"useKeyboardInputTracker.js","names":["React","Keys","pressedKey","useDOM","useGlobalEventListener","ENABLE_KEYBOARD_INPUT_EVENT_NAME","DISABLE_KEYBOARD_INPUT_EVENT_NAME","useKeyboardInputTracker","document","useState","isKeyboardInputActive","toggleKeyboardInput","enableKeyboardInput","useCallback","handleKeydown","e","TAB","disableKeyboardInput","eventOptions","passive","capture"],"sources":["../../src/hooks/useKeyboardInputTracker.ts"],"sourcesContent":["import * as React from 'react';\nimport { Keys, pressedKey } from '../lib/accessibility';\nimport { useDOM } from '../lib/dom';\nimport { useGlobalEventListener } from './useGlobalEventListener';\n\nexport const ENABLE_KEYBOARD_INPUT_EVENT_NAME = 'enableKeyboardInput';\nexport const DISABLE_KEYBOARD_INPUT_EVENT_NAME = 'disableKeyboardInput';\n\nexport function useKeyboardInputTracker(): boolean {\n  const { document } = useDOM();\n\n  const [isKeyboardInputActive, toggleKeyboardInput] = React.useState<boolean>(false);\n\n  const enableKeyboardInput = React.useCallback(() => {\n    toggleKeyboardInput(true);\n  }, []);\n\n  const handleKeydown = React.useCallback(\n    (e: KeyboardEvent) => {\n      if (pressedKey(e) === Keys.TAB) {\n        enableKeyboardInput();\n      }\n    },\n    [enableKeyboardInput],\n  );\n\n  const disableKeyboardInput = React.useCallback(() => {\n    toggleKeyboardInput(false);\n  }, []);\n\n  const eventOptions = {\n    passive: true,\n    capture: true,\n  };\n\n  useGlobalEventListener(document, 'keydown', handleKeydown, eventOptions);\n  useGlobalEventListener(document, 'mousedown', disableKeyboardInput, eventOptions);\n  useGlobalEventListener(document, 'touchstart', disableKeyboardInput, eventOptions);\n  useGlobalEventListener(\n    document,\n    ENABLE_KEYBOARD_INPUT_EVENT_NAME,\n    enableKeyboardInput,\n    eventOptions,\n  );\n  useGlobalEventListener(\n    document,\n    DISABLE_KEYBOARD_INPUT_EVENT_NAME,\n    disableKeyboardInput,\n    eventOptions,\n  );\n\n  return isKeyboardInputActive;\n}\n"],"mappings":";AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,IAAI,EAAEC,UAAU,QAAQ,sBAAsB;AACvD,SAASC,MAAM,QAAQ,YAAY;AACnC,SAASC,sBAAsB,QAAQ,0BAA0B;AAEjE,OAAO,IAAMC,gCAAgC,GAAG,qBAAqB;AACrE,OAAO,IAAMC,iCAAiC,GAAG,sBAAsB;AAEvE,OAAO,SAASC,uBAAuB,GAAY;EACjD,cAAqBJ,MAAM,EAAE;IAArBK,QAAQ,WAARA,QAAQ;EAEhB,sBAAqDR,KAAK,CAACS,QAAQ,CAAU,KAAK,CAAC;IAAA;IAA5EC,qBAAqB;IAAEC,mBAAmB;EAEjD,IAAMC,mBAAmB,GAAGZ,KAAK,CAACa,WAAW,CAAC,YAAM;IAClDF,mBAAmB,CAAC,IAAI,CAAC;EAC3B,CAAC,EAAE,EAAE,CAAC;EAEN,IAAMG,aAAa,GAAGd,KAAK,CAACa,WAAW,CACrC,UAACE,CAAgB,EAAK;IACpB,IAAIb,UAAU,CAACa,CAAC,CAAC,KAAKd,IAAI,CAACe,GAAG,EAAE;MAC9BJ,mBAAmB,EAAE;IACvB;EACF,CAAC,EACD,CAACA,mBAAmB,CAAC,CACtB;EAED,IAAMK,oBAAoB,GAAGjB,KAAK,CAACa,WAAW,CAAC,YAAM;IACnDF,mBAAmB,CAAC,KAAK,CAAC;EAC5B,CAAC,EAAE,EAAE,CAAC;EAEN,IAAMO,YAAY,GAAG;IACnBC,OAAO,EAAE,IAAI;IACbC,OAAO,EAAE;EACX,CAAC;EAEDhB,sBAAsB,CAACI,QAAQ,EAAE,SAAS,EAAEM,aAAa,EAAEI,YAAY,CAAC;EACxEd,sBAAsB,CAACI,QAAQ,EAAE,WAAW,EAAES,oBAAoB,EAAEC,YAAY,CAAC;EACjFd,sBAAsB,CAACI,QAAQ,EAAE,YAAY,EAAES,oBAAoB,EAAEC,YAAY,CAAC;EAClFd,sBAAsB,CACpBI,QAAQ,EACRH,gCAAgC,EAChCO,mBAAmB,EACnBM,YAAY,CACb;EACDd,sBAAsB,CACpBI,QAAQ,EACRF,iCAAiC,EACjCW,oBAAoB,EACpBC,YAAY,CACb;EAED,OAAOR,qBAAqB;AAC9B"}