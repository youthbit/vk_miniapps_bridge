{"version":3,"file":"useOrientationChange.js","names":["React","useDOM","useGlobalEventListener","getOrientation","window","angle","Math","abs","screen","orientation","Number","useOrientationChange","useState","setOrientation"],"sources":["../../src/hooks/useOrientationChange.ts"],"sourcesContent":["import * as React from 'react';\nimport { useDOM } from '../lib/dom';\nimport { useGlobalEventListener } from './useGlobalEventListener';\n\ntype Orientation = 'portrait' | 'landscape';\n\n/**\n * Возвращает текущую ориентация экрана на человеческом языке.\n * Учитывает особенности API на разных платформах.\n */\nfunction getOrientation(window: Window | undefined): Orientation {\n  if (!window) {\n    return 'portrait';\n  }\n\n  const angle = Math.abs(\n    // eslint-disable-next-line compat/compat\n    window.screen?.orientation?.angle ?? Number(window.orientation),\n  );\n\n  return angle === 90 ? 'landscape' : 'portrait';\n}\n\n/**\n * Возвращает текущую ориентация экрана на человеческом языке.\n * Обновляется при изменении ориентации.\n */\nexport function useOrientationChange(): Orientation {\n  const { window } = useDOM();\n\n  const [orientation, setOrientation] = React.useState(() => getOrientation(window));\n\n  useGlobalEventListener(window, 'orientationchange', () => setOrientation(getOrientation(window)));\n\n  return orientation;\n}\n"],"mappings":";AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,MAAM,QAAQ,YAAY;AACnC,SAASC,sBAAsB,QAAQ,0BAA0B;AAIjE;AACA;AACA;AACA;AACA,SAASC,cAAc,CAACC,MAA0B,EAAe;EAAA;EAC/D,IAAI,CAACA,MAAM,EAAE;IACX,OAAO,UAAU;EACnB;EAEA,IAAMC,KAAK,GAAGC,IAAI,CAACC,GAAG,EACpB;EAAA,2CACAH,MAAM,CAACI,MAAM,6EAAb,eAAeC,WAAW,2DAA1B,uBAA4BJ,KAAK,yEAAIK,MAAM,CAACN,MAAM,CAACK,WAAW,CAAC,CAChE;EAED,OAAOJ,KAAK,KAAK,EAAE,GAAG,WAAW,GAAG,UAAU;AAChD;;AAEA;AACA;AACA;AACA;AACA,OAAO,SAASM,oBAAoB,GAAgB;EAClD,cAAmBV,MAAM,EAAE;IAAnBG,MAAM,WAANA,MAAM;EAEd,sBAAsCJ,KAAK,CAACY,QAAQ,CAAC;MAAA,OAAMT,cAAc,CAACC,MAAM,CAAC;IAAA,EAAC;IAAA;IAA3EK,WAAW;IAAEI,cAAc;EAElCX,sBAAsB,CAACE,MAAM,EAAE,mBAAmB,EAAE;IAAA,OAAMS,cAAc,CAACV,cAAc,CAACC,MAAM,CAAC,CAAC;EAAA,EAAC;EAEjG,OAAOK,WAAW;AACpB"}