{"version":3,"file":"Banner.js","names":["Banner","mode","imageTheme","size","before","asideMode","header","subheader","text","children","background","actions","onDismiss","dismissLabel","className","restProps","platform","usePlatform","HeaderTypography","Title","Headline","SubheaderTypography","Text","Subhead","IconDismissIOS","Icon24DismissDark","Icon24DismissSubstract","content","hasReactNode","React","Children","count","classNames","Platform","IOS","styles"],"sources":["../../../../src/components/Banner/Banner.tsx"],"sourcesContent":["import * as React from 'react';\nimport { classNames, hasReactNode } from '@vkontakte/vkjs';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { Platform } from '../../lib/platform';\nimport {\n  Icon24Chevron,\n  Icon24DismissSubstract,\n  Icon24DismissDark,\n  Icon24Cancel,\n} from '@vkontakte/icons';\nimport { Tappable } from '../Tappable/Tappable';\nimport { IconButton } from '../IconButton/IconButton';\nimport { Headline } from '../Typography/Headline/Headline';\nimport { Subhead } from '../Typography/Subhead/Subhead';\nimport { Text } from '../Typography/Text/Text';\nimport { Title } from '../Typography/Title/Title';\nimport styles from './Banner.module.css';\n\nexport interface BannerProps extends React.HTMLAttributes<HTMLDivElement> {\n  /**\n   * Тип баннера.\n   */\n  mode?: 'tint' | 'image';\n  size?: 's' | 'm';\n  /**\n   * Тип действия в правой части баннера.\n   *\n   * - `dismiss` – отображается иконка крестика, при клике на неё сработает свойство `onDismiss`.\n   * - `expand` – отображается иконка шеврона, которая подразумевает, что при клике на баннер можно куда-то перейти.\n   */\n  asideMode?: 'dismiss' | 'expand';\n  /**\n   * Срабатывает при клике на иконку крестика при `asideMode=\"dismiss\"`.\n   */\n  onDismiss?: React.MouseEventHandler<HTMLButtonElement>;\n  /**\n   * `aria-label` для кнопки при `asideMode=\"dismiss\". Необходим, чтобы кнопка была доступной.\n   */\n  dismissLabel?: string;\n  /**\n   * Содержимое, отображаемое в левой части баннера.\n   */\n  before?: React.ReactNode;\n  /**\n   * Заголовок. <br />\n   * При использовании этого свойства рекомендуется не указывать `text`.\n   */\n  header?: React.ReactNode;\n  /**\n   * Подзаголовок. <br />\n   * При использовании этого свойства рекомендуется не указывать `text`.\n   */\n  subheader?: React.ReactNode;\n  /**\n   * Текст баннера. <br />\n   * Это свойство следует использовать без указания `header` и `subheader`.\n   */\n  text?: React.ReactNode;\n  /**\n   * При использовании `mode=\"image\"`.\n   *\n   * - `light` – в качестве фона используется светлое изображение, цвет текста в баннере будет тёмным.\n   * - `dark` – в качестве фона используется тёмное изображение, цвет текста будет светлым.\n   */\n  imageTheme?: 'light' | 'dark';\n  /**\n   * При использовании `mode=\"image\"`.\n   *\n   * Элемент, который нужно стилизовать цветом и/или фоном. Этот элемент будет растянут на 100% ширины и высоты баннера.\n   */\n  background?: React.ReactNode;\n  /**\n   * Кнопки-действия. Принимает [`Button`](https://vkcom.github.io/VKUI/#/Button).\n   *\n   * - В режиме `tint` или `image` со светлым фоном используйте только с параметрами:\n   *    - `mode=\"primary\"`\n   *    - `mode=\"secondary\"`\n   * - В режиме `image` с тёмным фоном используйте с параметрами:\n   *    - `appearance=\"overlay\"`.\n   *\n   * Для набора кнопок используйте [`ButtonGroup`](https://vkcom.github.io/VKUI/#/ButtonGroup) с параметрами:\n   *\n   * - `gap=\"m\" mode=\"horizontal\" stretched`\n   * - `gap=\"m\" mode=\"vertical\" stretched`\n   */\n  actions?: React.ReactNode;\n}\n\n/**\n * @see https://vkcom.github.io/VKUI/#/Banner\n */\nexport const Banner = ({\n  mode = 'tint',\n  imageTheme = 'dark',\n  size = 's',\n  before,\n  asideMode,\n  header,\n  subheader,\n  text,\n  children,\n  background,\n  actions,\n  onDismiss,\n  dismissLabel = 'Скрыть',\n  className,\n  ...restProps\n}: BannerProps) => {\n  const platform = usePlatform();\n\n  const HeaderTypography = size === 'm' ? Title : Headline;\n  const SubheaderTypography = size === 'm' ? Text : Subhead;\n\n  const IconDismissIOS = mode === 'image' ? Icon24DismissDark : Icon24DismissSubstract;\n\n  const content = (\n    <React.Fragment>\n      {mode === 'image' && background && (\n        <div aria-hidden className={styles['Banner__bg']}>\n          {background}\n        </div>\n      )}\n\n      {before && <div className={styles['Banner__before']}>{before}</div>}\n\n      <div className={styles['Banner__content']}>\n        {hasReactNode(header) && (\n          <HeaderTypography\n            Component=\"span\"\n            className={styles['Banner__header']}\n            weight=\"2\"\n            level={size === 'm' ? '2' : '1'}\n          >\n            {header}\n          </HeaderTypography>\n        )}\n        {hasReactNode(subheader) && (\n          <SubheaderTypography Component=\"span\" className={styles['Banner__subheader']}>\n            {subheader}\n          </SubheaderTypography>\n        )}\n        {hasReactNode(text) && <Text className={styles['Banner__text']}>{text}</Text>}\n        {hasReactNode(actions) && React.Children.count(actions) > 0 && (\n          <div className={styles['Banner__actions']}>{actions}</div>\n        )}\n      </div>\n    </React.Fragment>\n  );\n\n  return (\n    <section\n      {...restProps}\n      className={classNames(\n        styles['Banner'],\n        platform === Platform.IOS && styles['Banner--ios'],\n        styles[`Banner--mode-${mode}`],\n        styles[`Banner--size-${size}`],\n        mode === 'image' && imageTheme === 'dark' && styles['Banner--inverted'],\n        className,\n      )}\n    >\n      {asideMode === 'expand' ? (\n        <Tappable\n          className={styles['Banner__in']}\n          activeMode={platform === Platform.IOS ? 'opacity' : 'background'}\n          role=\"button\"\n        >\n          {content}\n\n          <div className={styles['Banner__aside']}>\n            <Icon24Chevron />\n          </div>\n        </Tappable>\n      ) : (\n        <div className={styles['Banner__in']}>\n          {content}\n\n          {asideMode === 'dismiss' && (\n            <div className={styles['Banner__aside']}>\n              <IconButton\n                aria-label={dismissLabel}\n                className={styles['Banner__dismiss']}\n                onClick={onDismiss}\n                hoverMode=\"opacity\"\n                hasActive={false}\n              >\n                {platform === Platform.IOS ? <IconDismissIOS /> : <Icon24Cancel />}\n              </IconButton>\n            </div>\n          )}\n        </div>\n      )}\n    </section>\n  );\n};\n"],"mappings":"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"}