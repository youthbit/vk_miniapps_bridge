{"version":3,"file":"RangeSlider.js","names":["RangeSlider","onChange","min","max","defaultValue","step","props","isControlled","value","undefined","React","useState","localValue","setValue","start","end","useMemo","clamp","handleChange","useCallback","nextValue","event","disabled"],"sources":["../../../../src/components/RangeSlider/RangeSlider.tsx"],"sourcesContent":["import * as React from 'react';\nimport { clamp } from '../../helpers/math';\nimport { UniversalSlider, UniversalSliderProps } from './UniversalSlider';\nimport { TouchEvent } from '../Touch/Touch';\n\nexport type Value = [number, number];\nexport type RangeSliderProps = UniversalSliderProps<Value>;\n\n/**\n * @see https://vkcom.github.io/VKUI/#/RangeSlider\n */\nexport const RangeSlider = ({\n  onChange,\n  min = 0,\n  max = 100,\n  defaultValue = [min, max],\n  step = 0,\n  ...props\n}: RangeSliderProps) => {\n  const isControlled = props.value !== undefined;\n\n  const [localValue, setValue] = React.useState(defaultValue);\n  const [start, end] = props.value || localValue;\n  const value = React.useMemo(\n    () => [clamp(start, min, max), clamp(end, min, max)] as Value,\n    [end, max, min, start],\n  );\n\n  const handleChange: RangeSliderProps['onChange'] = React.useCallback(\n    (nextValue: Value, event: TouchEvent) => {\n      if (props.disabled || (value[0] === nextValue[0] && value[1] === nextValue[1])) {\n        return;\n      }\n      !isControlled && setValue(nextValue);\n      onChange && onChange(nextValue, event);\n    },\n    [props.disabled, value, isControlled, onChange],\n  );\n\n  return (\n    <UniversalSlider\n      {...props}\n      value={value}\n      onChange={handleChange}\n      min={min}\n      max={max}\n      step={step}\n    />\n  );\n};\n"],"mappings":";;;;;;;;;;;AAAA;AACA;AACA;AAA0E;AAM1E;AACA;AACA;AACO,IAAMA,WAAW,GAAG,SAAdA,WAAW,OAOA;EAAA,IANtBC,QAAQ,QAARA,QAAQ;IAAA,gBACRC,GAAG;IAAHA,GAAG,yBAAG,CAAC;IAAA,gBACPC,GAAG;IAAHA,GAAG,yBAAG,GAAG;IAAA,yBACTC,YAAY;IAAZA,YAAY,kCAAG,CAACF,GAAG,EAAEC,GAAG,CAAC;IAAA,iBACzBE,IAAI;IAAJA,IAAI,0BAAG,CAAC;IACLC,KAAK;EAER,IAAMC,YAAY,GAAGD,KAAK,CAACE,KAAK,KAAKC,SAAS;EAE9C,sBAA+BC,KAAK,CAACC,QAAQ,CAACP,YAAY,CAAC;IAAA;IAApDQ,UAAU;IAAEC,QAAQ;EAC3B,YAAqBP,KAAK,CAACE,KAAK,IAAII,UAAU;IAAA;IAAvCE,KAAK;IAAEC,GAAG;EACjB,IAAMP,KAAK,GAAGE,KAAK,CAACM,OAAO,CACzB;IAAA,OAAM,CAAC,IAAAC,WAAK,EAACH,KAAK,EAAEZ,GAAG,EAAEC,GAAG,CAAC,EAAE,IAAAc,WAAK,EAACF,GAAG,EAAEb,GAAG,EAAEC,GAAG,CAAC,CAAC;EAAA,CAAS,EAC7D,CAACY,GAAG,EAAEZ,GAAG,EAAED,GAAG,EAAEY,KAAK,CAAC,CACvB;EAED,IAAMI,YAA0C,GAAGR,KAAK,CAACS,WAAW,CAClE,UAACC,SAAgB,EAAEC,KAAiB,EAAK;IACvC,IAAIf,KAAK,CAACgB,QAAQ,IAAKd,KAAK,CAAC,CAAC,CAAC,KAAKY,SAAS,CAAC,CAAC,CAAC,IAAIZ,KAAK,CAAC,CAAC,CAAC,KAAKY,SAAS,CAAC,CAAC,CAAE,EAAE;MAC9E;IACF;IACA,CAACb,YAAY,IAAIM,QAAQ,CAACO,SAAS,CAAC;IACpCnB,QAAQ,IAAIA,QAAQ,CAACmB,SAAS,EAAEC,KAAK,CAAC;EACxC,CAAC,EACD,CAACf,KAAK,CAACgB,QAAQ,EAAEd,KAAK,EAAED,YAAY,EAAEN,QAAQ,CAAC,CAChD;EAED,oBACE,oBAAC,gCAAe,6BACVK,KAAK;IACT,KAAK,EAAEE,KAAM;IACb,QAAQ,EAAEU,YAAa;IACvB,GAAG,EAAEhB,GAAI;IACT,GAAG,EAAEC,GAAI;IACT,IAAI,EAAEE;EAAK,GACX;AAEN,CAAC;AAAC"}