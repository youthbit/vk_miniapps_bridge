{"version":3,"file":"SSR.js","names":["SSRWrapper","userAgent","browserInfo","children","computeBrowserInfo","dom","useObjectMemo","getDOM","getPlatform"],"sources":["../../../src/lib/SSR.tsx"],"sourcesContent":["import * as React from 'react';\nimport { platform as getPlatform } from './platform';\nimport { BrowserInfo, computeBrowserInfo } from './browser';\nimport { DOMContext, getDOM } from './dom';\nimport { useObjectMemo } from '../hooks/useObjectMemo';\nimport { ConfigProviderOverride } from '../components/ConfigProvider/ConfigProviderOverride';\n\nexport interface SSRWrapperProps {\n  userAgent?: string;\n  browserInfo?: BrowserInfo;\n  children?: React.ReactNode;\n}\n\n/**\n * @see https://vkcom.github.io/VKUI/#/SSR\n */\nexport const SSRWrapper = ({ userAgent, browserInfo, children }: SSRWrapperProps) => {\n  if (!browserInfo && userAgent) {\n    browserInfo = computeBrowserInfo(userAgent);\n  }\n\n  const dom = useObjectMemo(getDOM());\n\n  return (\n    <ConfigProviderOverride platform={getPlatform(browserInfo)}>\n      <DOMContext.Provider value={dom}>{children}</DOMContext.Provider>\n    </ConfigProviderOverride>\n  );\n};\n"],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAQA;AACA;AACA;AACO,IAAMA,UAAU,GAAG,SAAbA,UAAU,OAA8D;EAAA,IAAxDC,SAAS,QAATA,SAAS;IAAEC,WAAW,QAAXA,WAAW;IAAEC,QAAQ,QAARA,QAAQ;EAC3D,IAAI,CAACD,WAAW,IAAID,SAAS,EAAE;IAC7BC,WAAW,GAAG,IAAAE,2BAAkB,EAACH,SAAS,CAAC;EAC7C;EAEA,IAAMI,GAAG,GAAG,IAAAC,4BAAa,EAAC,IAAAC,WAAM,GAAE,CAAC;EAEnC,oBACE,oBAAC,8CAAsB;IAAC,QAAQ,EAAE,IAAAC,kBAAW,EAACN,WAAW;EAAE,gBACzD,oBAAC,eAAU,CAAC,QAAQ;IAAC,KAAK,EAAEG;EAAI,GAAEF,QAAQ,CAAuB,CAC1C;AAE7B,CAAC;AAAC"}