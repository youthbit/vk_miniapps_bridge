{"version":3,"file":"calendar.js","names":["eachDayOfInterval","startOfWeek","endOfWeek","addDays","subDays","subWeeks","addWeeks","startOfMonth","endOfMonth","isBefore","isFirstDayOfMonth","isLastDayOfMonth","getYears","currentYear","range","years","i","push","label","String","padStart","value","getMonths","locale","months","formatter","Intl","DateTimeFormat","month","format","Date","setMonth","getDaysNames","now","weekStartsOn","weekday","map","day","navigateDate","date","key","newDate","getWeeks","viewDate","start","end","count","current","nestedWeeks","lastDay","weekNumber","Math","floor","getDay","setTimeEqual","to","from","setHours","getHours","setMinutes","getMinutes","setSeconds","getSeconds","setMilliseconds","getMilliseconds","isFirstDay","dayOfWeek","isLastDay"],"sources":["../../src/lib/calendar.ts"],"sourcesContent":["import {\n  eachDayOfInterval,\n  startOfWeek,\n  endOfWeek,\n  addDays,\n  subDays,\n  subWeeks,\n  addWeeks,\n  startOfMonth,\n  endOfMonth,\n  isBefore,\n  isFirstDayOfMonth,\n  isLastDayOfMonth,\n} from './date';\n\nexport const getYears = (currentYear: number, range: number) => {\n  const years: Array<{\n    value: number;\n    label: string;\n  }> = [];\n\n  for (let i = currentYear - range; i <= currentYear + range; i++) {\n    years.push({ label: String(i).padStart(4, '0'), value: i });\n  }\n\n  return years;\n};\n\nexport const getMonths = (locale?: string) => {\n  const months: Array<{\n    value: number;\n    label: string;\n  }> = [];\n  const formatter = new Intl.DateTimeFormat(locale, {\n    month: 'long',\n  });\n\n  for (let i = 0; i < 12; i++) {\n    months.push({\n      label: formatter.format(new Date('1970-01-01').setMonth(i)),\n      value: i,\n    });\n  }\n\n  return months;\n};\n\nexport const getDaysNames = (\n  now: Date,\n  weekStartsOn: 0 | 1 | 2 | 3 | 4 | 5 | 6,\n  locale?: string,\n) => {\n  const formatter = new Intl.DateTimeFormat(locale, {\n    weekday: 'short',\n  });\n  return eachDayOfInterval(startOfWeek(now, weekStartsOn), endOfWeek(now, weekStartsOn)).map(\n    (day) => formatter.format(day),\n  );\n};\n\nexport const navigateDate = (date?: Date | null, key?: string) => {\n  let newDate = date ?? new Date();\n\n  switch (key) {\n    case 'ArrowRight':\n      newDate = addDays(newDate, 1);\n      break;\n    case 'ArrowLeft':\n      newDate = subDays(newDate, 1);\n      break;\n    case 'ArrowUp':\n      newDate = subWeeks(newDate, 1);\n      break;\n    case 'ArrowDown':\n      newDate = addWeeks(newDate, 1);\n      break;\n  }\n\n  return newDate;\n};\n\nexport const getWeeks = (viewDate: Date, weekStartsOn: 0 | 1 | 2 | 3 | 4 | 5 | 6) => {\n  const start = startOfWeek(startOfMonth(viewDate), weekStartsOn);\n  const end = endOfWeek(endOfMonth(viewDate), weekStartsOn);\n\n  let count = 0;\n  let current = start;\n  const nestedWeeks: Date[][] = [];\n  let lastDay = null;\n  while (isBefore(current, end)) {\n    const weekNumber = Math.floor(count / 7);\n    nestedWeeks[weekNumber] = nestedWeeks[weekNumber] || [];\n    const day = current.getDay();\n    if (lastDay !== day) {\n      lastDay = day;\n      nestedWeeks[weekNumber].push(current);\n      count += 1;\n    }\n    current = addDays(current, 1);\n  }\n  return nestedWeeks;\n};\n\nexport const setTimeEqual = (to: Date, from?: Date | null) => {\n  if (from) {\n    to.setHours(from.getHours());\n    to.setMinutes(from.getMinutes());\n    to.setSeconds(from.getSeconds());\n    to.setMilliseconds(from.getMilliseconds());\n  }\n\n  return to;\n};\n\nexport const isFirstDay = (day: Date, dayOfWeek: number) =>\n  dayOfWeek === 0 || isFirstDayOfMonth(day);\n\nexport const isLastDay = (day: Date, dayOfWeek: number) => dayOfWeek === 6 || isLastDayOfMonth(day);\n"],"mappings":"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"}