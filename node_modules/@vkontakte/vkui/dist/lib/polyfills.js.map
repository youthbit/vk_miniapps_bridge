{"version":3,"file":"polyfills.js","names":["canUseDOM","ElementProto","Element","prototype","matches","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","closest","css","node","parentElement","Array","includes","Object","defineProperty","value","searchElement","fromIndex","TypeError","o","len","length","n","k","Math","max","abs","sameValueZero","x","y","isNaN","find","callback","list","thisArg","arguments","i","element","call","String","padStart","targetLength","padString","repeat","slice"],"sources":["../../src/lib/polyfills.ts"],"sourcesContent":["/* eslint-disable */\nimport { canUseDOM } from './dom';\n\nexport type MatchesMethod = (css: string) => boolean;\n\nexport interface OldElement extends Element {\n  matchesSelector?: MatchesMethod;\n  mozMatchesSelector?: MatchesMethod;\n  msMatchesSelector?: MatchesMethod;\n}\n\nif (canUseDOM) {\n  const ElementProto = Element.prototype;\n\n  // Element.prototype.matches\n  if (!ElementProto.matches) {\n    ElementProto.matches =\n      (ElementProto as OldElement).matchesSelector ||\n      ElementProto.webkitMatchesSelector ||\n      (ElementProto as OldElement).mozMatchesSelector ||\n      (ElementProto as OldElement).msMatchesSelector;\n  }\n\n  // Element.prototype.closest\n  if (!ElementProto.closest) {\n    ElementProto.closest = function (css: string): Element | null {\n      let node: Element | null = this;\n      while (node) {\n        if (node.matches(css)) {\n          return node;\n        } else {\n          node = node.parentElement;\n        }\n      }\n      return null;\n    };\n  }\n}\n\n// Array.prototype.includes\nif (!Array.prototype.includes) {\n  Object.defineProperty(Array.prototype, 'includes', {\n    value: function (searchElement: any, fromIndex: number) {\n      if (this == null) {\n        throw new TypeError('\"this\" is null or not defined');\n      }\n      const o = Object(this);\n      const len = o.length >>> 0;\n      if (len === 0) {\n        return false;\n      }\n      const n = fromIndex | 0;\n      let k = Math.max(n >= 0 ? n : len - Math.abs(n), 0);\n      function sameValueZero(x: any, y: any) {\n        return x === y || (typeof x === 'number' && typeof y === 'number' && isNaN(x) && isNaN(y));\n      }\n      while (k < len) {\n        if (sameValueZero(o[k], searchElement)) {\n          return true;\n        }\n        k++;\n      }\n      return false;\n    },\n  });\n}\n\n// Array.prototype.find\nif (!Array.prototype.find) {\n  Object.defineProperty(Array.prototype, 'find', {\n    value: function (callback: Parameters<Array<any>['find']>[0]) {\n      if (this === null) {\n        throw new TypeError('Array.prototype.find called on null or undefined');\n      } else if (typeof callback !== 'function') {\n        throw new TypeError('callback must be a function');\n      }\n\n      let list = Object(this);\n      let length = list.length >>> 0;\n      let thisArg = arguments[1];\n\n      for (let i = 0; i < length; i++) {\n        let element = list[i];\n        if (callback.call(thisArg, element, i, list)) {\n          return element;\n        }\n      }\n    },\n  });\n}\n\n// String.prototype.padStart\nif (!String.prototype.padStart) {\n  String.prototype.padStart = function padStart(targetLength, padString) {\n    targetLength = targetLength >> 0;\n    padString = String(padString || ' ');\n    if (this.length > targetLength) {\n      return String(this);\n    } else {\n      targetLength = targetLength - this.length;\n      if (targetLength > padString.length) {\n        padString += padString.repeat(targetLength / padString.length);\n      }\n      return padString.slice(0, targetLength) + String(this);\n    }\n  };\n}\n"],"mappings":"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"}