"use strict";

var _globals = require("@jest/globals");
var _querystring = require("../querystring");
describe('querystring parse', function () {
  (0, _globals.test)('string starting with a `?`, `#` or `&`', function () {
    expect(_querystring.querystring.parse('?foo=bar&xyz=baz')).toEqual({
      foo: 'bar',
      xyz: 'baz'
    });
    expect(_querystring.querystring.parse('#foo=bar&xyz=baz')).toEqual({
      foo: 'bar',
      xyz: 'baz'
    });
    expect(_querystring.querystring.parse('&foo=bar&xyz=baz')).toEqual({
      foo: 'bar',
      xyz: 'baz'
    });
  });

  // TODO: Написать больше тестов
});

describe('querystring stringify', function () {
  (0, _globals.test)('empty string for null, undefined or empty data', function () {
    expect(_querystring.querystring.stringify(null)).toEqual('');
    expect(_querystring.querystring.stringify(undefined)).toEqual('');
    expect(_querystring.querystring.stringify({})).toEqual('');
  });
  (0, _globals.test)('base', function () {
    expect(_querystring.querystring.stringify({
      foo: 'bar'
    })).toEqual('foo=bar');
    expect(_querystring.querystring.stringify({
      foo: 'bar',
      baz: 2
    })).toEqual('foo=bar&baz=2');
  });
  (0, _globals.test)('encoding', function () {
    expect(_querystring.querystring.stringify({
      foo: 'bar',
      baz: 'foo & bar'
    })).toEqual('foo=bar&baz=foo%20%26%20bar');
    expect(_querystring.querystring.stringify({
      foo: 'bar',
      baz: 'foo & bar'
    }, {
      encode: true
    })).toEqual('foo=bar&baz=foo%20%26%20bar');
    expect(_querystring.querystring.stringify({
      foo: 'bar',
      baz: 'foo & bar'
    }, {
      encode: false
    })).toEqual('foo=bar&baz=foo & bar');
  });
  (0, _globals.test)('arrays', function () {
    expect(_querystring.querystring.stringify({
      foo: [1, 2, 3]
    })).toEqual('foo[]=1&foo[]=2&foo[]=3');
    expect(_querystring.querystring.stringify({
      foo: ['a', 'foo & bar']
    })).toEqual('foo[]=a&foo[]=foo%20%26%20bar');
  });
  (0, _globals.test)('null and undefined', function () {
    expect(_querystring.querystring.stringify({
      a: 'foo',
      b: undefined,
      c: null
    })).toEqual('a=foo&c=');
    expect(_querystring.querystring.stringify({
      a: 'foo',
      b: undefined,
      c: null
    }, {
      skipNull: true
    })).toEqual('a=foo');
  });
});
//# sourceMappingURL=querystring.test.js.map