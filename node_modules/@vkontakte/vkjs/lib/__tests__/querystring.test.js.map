{"version":3,"file":"querystring.test.js","names":["describe","test","expect","querystring","parse","toEqual","foo","xyz","stringify","undefined","baz","encode","a","b","c","skipNull"],"sources":["../../src/__tests__/querystring.test.js"],"sourcesContent":["import { test } from '@jest/globals';\nimport { querystring } from '../querystring';\n\ndescribe('querystring parse', () => {\n  test('string starting with a `?`, `#` or `&`', () => {\n    expect(querystring.parse('?foo=bar&xyz=baz')).toEqual({ foo: 'bar', xyz: 'baz' });\n    expect(querystring.parse('#foo=bar&xyz=baz')).toEqual({ foo: 'bar', xyz: 'baz' });\n    expect(querystring.parse('&foo=bar&xyz=baz')).toEqual({ foo: 'bar', xyz: 'baz' });\n  });\n\n  // TODO: Написать больше тестов\n});\n\ndescribe('querystring stringify', () => {\n  test('empty string for null, undefined or empty data', () => {\n    expect(querystring.stringify(null)).toEqual('');\n    expect(querystring.stringify(undefined)).toEqual('');\n    expect(querystring.stringify({})).toEqual('');\n  });\n\n  test('base', () => {\n    expect(querystring.stringify({ foo: 'bar' })).toEqual('foo=bar');\n    expect(querystring.stringify({ foo: 'bar', baz: 2 })).toEqual('foo=bar&baz=2');\n  });\n\n  test('encoding', () => {\n    expect(querystring.stringify({ foo: 'bar', baz: 'foo & bar' })).toEqual('foo=bar&baz=foo%20%26%20bar');\n    expect(querystring.stringify({ foo: 'bar', baz: 'foo & bar' }, { encode: true })).toEqual('foo=bar&baz=foo%20%26%20bar');\n    expect(querystring.stringify({ foo: 'bar', baz: 'foo & bar' }, { encode: false })).toEqual('foo=bar&baz=foo & bar');\n  });\n\n  test('arrays', () => {\n    expect(querystring.stringify({ foo: [1, 2, 3] })).toEqual('foo[]=1&foo[]=2&foo[]=3');\n    expect(querystring.stringify({ foo: ['a', 'foo & bar'] })).toEqual('foo[]=a&foo[]=foo%20%26%20bar');\n  });\n\n  test('null and undefined', () => {\n    expect(querystring.stringify({ a: 'foo', b: undefined, c: null })).toEqual('a=foo&c=');\n    expect(querystring.stringify({ a: 'foo', b: undefined, c: null }, { skipNull: true })).toEqual('a=foo');\n  });\n});\n"],"mappings":"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"}