{"version":3,"file":"querystring.test.js","names":["test","querystring","describe","expect","parse","toEqual","foo","xyz","stringify","undefined","baz","encode","a","b","c","skipNull"],"sources":["../../../src/__tests__/querystring.test.js"],"sourcesContent":["import { test } from '@jest/globals';\nimport { querystring } from '../querystring';\n\ndescribe('querystring parse', () => {\n  test('string starting with a `?`, `#` or `&`', () => {\n    expect(querystring.parse('?foo=bar&xyz=baz')).toEqual({ foo: 'bar', xyz: 'baz' });\n    expect(querystring.parse('#foo=bar&xyz=baz')).toEqual({ foo: 'bar', xyz: 'baz' });\n    expect(querystring.parse('&foo=bar&xyz=baz')).toEqual({ foo: 'bar', xyz: 'baz' });\n  });\n\n  // TODO: Написать больше тестов\n});\n\ndescribe('querystring stringify', () => {\n  test('empty string for null, undefined or empty data', () => {\n    expect(querystring.stringify(null)).toEqual('');\n    expect(querystring.stringify(undefined)).toEqual('');\n    expect(querystring.stringify({})).toEqual('');\n  });\n\n  test('base', () => {\n    expect(querystring.stringify({ foo: 'bar' })).toEqual('foo=bar');\n    expect(querystring.stringify({ foo: 'bar', baz: 2 })).toEqual('foo=bar&baz=2');\n  });\n\n  test('encoding', () => {\n    expect(querystring.stringify({ foo: 'bar', baz: 'foo & bar' })).toEqual('foo=bar&baz=foo%20%26%20bar');\n    expect(querystring.stringify({ foo: 'bar', baz: 'foo & bar' }, { encode: true })).toEqual('foo=bar&baz=foo%20%26%20bar');\n    expect(querystring.stringify({ foo: 'bar', baz: 'foo & bar' }, { encode: false })).toEqual('foo=bar&baz=foo & bar');\n  });\n\n  test('arrays', () => {\n    expect(querystring.stringify({ foo: [1, 2, 3] })).toEqual('foo[]=1&foo[]=2&foo[]=3');\n    expect(querystring.stringify({ foo: ['a', 'foo & bar'] })).toEqual('foo[]=a&foo[]=foo%20%26%20bar');\n  });\n\n  test('null and undefined', () => {\n    expect(querystring.stringify({ a: 'foo', b: undefined, c: null })).toEqual('a=foo&c=');\n    expect(querystring.stringify({ a: 'foo', b: undefined, c: null }, { skipNull: true })).toEqual('a=foo');\n  });\n});\n"],"mappings":"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"}