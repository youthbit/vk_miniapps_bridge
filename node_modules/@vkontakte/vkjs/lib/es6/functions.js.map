{"version":3,"file":"functions.js","names":["noop","throttle","fn","threshold","scope","window","prevDate","Date","now","timeoutId","throttledFn","args","timeLeft","clearTimeout","setTimeout","apply","cancel","debounce","delay","context","later","debouncedFn","a","once","called"],"sources":["../../src/functions.ts"],"sourcesContent":["export const noop = () => {}; // eslint-disable-line @typescript-eslint/no-empty-function\n\nexport function throttle<T extends any[]>(\n  fn: (...args: T) => unknown,\n  threshold = 50,\n  scope = window,\n) {\n  let prevDate: number = Date.now() - threshold;\n  let timeoutId: ReturnType<typeof setTimeout>;\n\n  const throttledFn = (...args: T) => {\n    const timeLeft = prevDate + threshold - Date.now();\n\n    clearTimeout(timeoutId);\n    if (timeLeft > 0) {\n      timeoutId = setTimeout(() => {\n        prevDate = Date.now();\n        fn.apply(scope, args);\n      }, timeLeft);\n      return;\n    }\n\n    prevDate = Date.now();\n    fn.apply(scope, args);\n  };\n\n  throttledFn.cancel = () => {\n    clearTimeout(timeoutId);\n  };\n\n  return throttledFn;\n}\n\nexport function debounce<T extends any[]>(\n  fn: (...args: T) => unknown,\n  delay: number,\n  context = window,\n) {\n  let timeoutId: ReturnType<typeof setTimeout>;\n  let args: T;\n\n  const later = () => fn.apply(context, args);\n  const debouncedFn = (...a: T) => {\n    args = a;\n    clearTimeout(timeoutId);\n    timeoutId = setTimeout(later, delay);\n  };\n\n  debouncedFn.cancel = () => {\n    clearTimeout(timeoutId);\n  };\n\n  return debouncedFn;\n}\n\nexport function once<T extends (...args: any) => any>(fn: T) {\n  let called = false;\n  return function (...args) {\n    if (called) {\n      return;\n    }\n\n    called = true;\n    return fn.apply(this, args);\n  } as T;\n}\n"],"mappings":"AAAA,OAAO,IAAMA,IAAI,GAAG,SAAPA,IAAI,GAAS,CAAC,CAAC,CAAC,CAAC;;AAE9B,OAAO,SAASC,QAAQ,CACtBC,EAA2B,EAG3B;EAAA,IAFAC,SAAS,uEAAG,EAAE;EAAA,IACdC,KAAK,uEAAGC,MAAM;EAEd,IAAIC,QAAgB,GAAGC,IAAI,CAACC,GAAG,EAAE,GAAGL,SAAS;EAC7C,IAAIM,SAAwC;EAE5C,IAAMC,WAAW,GAAG,SAAdA,WAAW,GAAmB;IAAA,kCAAZC,IAAI;MAAJA,IAAI;IAAA;IAC1B,IAAMC,QAAQ,GAAGN,QAAQ,GAAGH,SAAS,GAAGI,IAAI,CAACC,GAAG,EAAE;IAElDK,YAAY,CAACJ,SAAS,CAAC;IACvB,IAAIG,QAAQ,GAAG,CAAC,EAAE;MAChBH,SAAS,GAAGK,UAAU,CAAC,YAAM;QAC3BR,QAAQ,GAAGC,IAAI,CAACC,GAAG,EAAE;QACrBN,EAAE,CAACa,KAAK,CAACX,KAAK,EAAEO,IAAI,CAAC;MACvB,CAAC,EAAEC,QAAQ,CAAC;MACZ;IACF;IAEAN,QAAQ,GAAGC,IAAI,CAACC,GAAG,EAAE;IACrBN,EAAE,CAACa,KAAK,CAACX,KAAK,EAAEO,IAAI,CAAC;EACvB,CAAC;EAEDD,WAAW,CAACM,MAAM,GAAG,YAAM;IACzBH,YAAY,CAACJ,SAAS,CAAC;EACzB,CAAC;EAED,OAAOC,WAAW;AACpB;AAEA,OAAO,SAASO,QAAQ,CACtBf,EAA2B,EAC3BgB,KAAa,EAEb;EAAA,IADAC,OAAO,uEAAGd,MAAM;EAEhB,IAAII,SAAwC;EAC5C,IAAIE,IAAO;EAEX,IAAMS,KAAK,GAAG,SAARA,KAAK;IAAA,OAASlB,EAAE,CAACa,KAAK,CAACI,OAAO,EAAER,IAAI,CAAC;EAAA;EAC3C,IAAMU,WAAW,GAAG,SAAdA,WAAW,GAAgB;IAAA,mCAATC,CAAC;MAADA,CAAC;IAAA;IACvBX,IAAI,GAAGW,CAAC;IACRT,YAAY,CAACJ,SAAS,CAAC;IACvBA,SAAS,GAAGK,UAAU,CAACM,KAAK,EAAEF,KAAK,CAAC;EACtC,CAAC;EAEDG,WAAW,CAACL,MAAM,GAAG,YAAM;IACzBH,YAAY,CAACJ,SAAS,CAAC;EACzB,CAAC;EAED,OAAOY,WAAW;AACpB;AAEA,OAAO,SAASE,IAAI,CAAkCrB,EAAK,EAAE;EAC3D,IAAIsB,MAAM,GAAG,KAAK;EAClB,OAAO,YAAmB;IACxB,IAAIA,MAAM,EAAE;MACV;IACF;IAEAA,MAAM,GAAG,IAAI;IAAC,mCALIb,IAAI;MAAJA,IAAI;IAAA;IAMtB,OAAOT,EAAE,CAACa,KAAK,CAAC,IAAI,EAAEJ,IAAI,CAAC;EAC7B,CAAC;AACH"}