{"version":3,"file":"date.js","names":["SECONDS_IN_THE_DAY","MILLISECONDS_IN_THE_DAY","isDateToday","date","now","Date","d","getDate","m","getMonth","y","getFullYear","isDateYesterday","yesterdayDate","getTime","isDateTomorrow","tomorrowDate","isSameDate","d1","d2","getBeginningOfDay","year","month","day","isLeapYear","getLastDayOfMonth","getStartOfWeek","weekDay","getDay","addDays","dayCount","modified","setDate","createDateFromUnixTimestamp","timestamp","getUnixTimestampFromDate","Math","floor","convertDateToInputFormat","leadingZero","join"],"sources":["../src/date.ts"],"sourcesContent":["import { leadingZero } from './numbers';\n\nexport const SECONDS_IN_THE_DAY = 86400;\nconst MILLISECONDS_IN_THE_DAY = SECONDS_IN_THE_DAY * 1000;\n\n/**\n * Проверяет, что переданная дата является сегодняшним днём\n */\nexport function isDateToday(date: Date): boolean {\n  const now = new Date();\n  const d = now.getDate();\n  const m = now.getMonth();\n  const y = now.getFullYear();\n\n  return date.getFullYear() === y && date.getMonth() === m && date.getDate() === d;\n}\n\n/**\n * Проверяет, что переданная дата - вчерашний день\n */\nexport function isDateYesterday(date: Date): boolean {\n  const yesterdayDate = new Date(date.getTime() + MILLISECONDS_IN_THE_DAY);\n  return isDateToday(yesterdayDate);\n}\n\n/**\n * Проверяет, что переданная дата - завтрашний день\n */\nexport function isDateTomorrow(date: Date): boolean {\n  const tomorrowDate = new Date(date.getTime() - MILLISECONDS_IN_THE_DAY);\n  return isDateToday(tomorrowDate);\n}\n\n/**\n * Проверяет что переданные даты находятся в одном дне\n */\nexport function isSameDate(d1: Date, d2: Date): boolean {\n  return (\n    d1.getDate() === d2.getDate() &&\n    d1.getMonth() === d2.getMonth() &&\n    d1.getFullYear() === d2.getFullYear()\n  );\n}\n\n/**\n * Возвращает новую дату — начало переданного дня\n */\nexport function getBeginningOfDay(date: Date) {\n  const year = date.getFullYear();\n  const month = date.getMonth();\n  const day = date.getDate();\n\n  return new Date(year, month, day, 0, 0, 0, 0);\n}\n\nexport function isLeapYear(year: number) {\n  return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\n}\n\n/**\n * Возвращает кол-во дней в месяце (последнее число месяца)\n */\nexport function getLastDayOfMonth(year: number, month: number): number {\n  if (+month === 2) {\n    return isLeapYear(year) ? 29 : 28;\n  } else if (month > 0 && ((month < 8 && month % 2 === 0) || (month > 7 && month % 2 === 1))) {\n    return 30;\n  }\n  return 31;\n}\n\n/**\n * Ближайший понедельник в прошлом относительно date\n */\nexport function getStartOfWeek(date: Date): Date {\n  const weekDay = date.getDay();\n  if (weekDay === 0) {\n    return addDays(date, -6);\n  }\n  return addDays(date, -weekDay + 1);\n}\n\n/**\n * Добавляет дни к дате и возвращает новый объект\n */\nexport function addDays(date: Date, dayCount: number): Date {\n  const modified = new Date(date.getTime());\n  modified.setDate(modified.getDate() + dayCount);\n  return modified;\n}\n\n/**\n * Создаёт дату из Unix Timestamp\n */\nexport function createDateFromUnixTimestamp(timestamp: number): Date {\n  return new Date(timestamp * 1000);\n}\n\n/**\n * Возвращает Unix Timestamp из даты\n */\nexport function getUnixTimestampFromDate(date: Date): number {\n  return Math.floor(date.getTime() / 1000);\n}\n\n/**\n * Возвращает дату в формате YYYY-MM-DD\n */\nexport function convertDateToInputFormat(date: Date): string {\n  const day = date.getDate();\n  const month = date.getMonth() + 1;\n  const year = date.getFullYear();\n\n  return [year, leadingZero(month), leadingZero(day)].join('-');\n}\n"],"mappings":"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"}