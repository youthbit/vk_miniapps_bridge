{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"children\", \"mode\", \"getRootRef\", \"className\", \"role\"];\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { Platform } from '../../lib/platform';\nimport { useGlobalEventListener } from '../../hooks/useGlobalEventListener';\nimport { useDOM } from '../../lib/dom';\nimport { pressedKey } from '../../lib/accessibility';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport { getSizeXClassName } from '../../helpers/getSizeXClassName';\nexport var TabsModeContext = /*#__PURE__*/React.createContext({\n  mode: 'default',\n  withGaps: false\n});\n/**\n * @see https://vkcom.github.io/VKUI/#/Tabs\n */\n\nexport var Tabs = function Tabs(_ref) {\n  var children = _ref.children,\n      _ref$mode = _ref.mode,\n      mode = _ref$mode === void 0 ? 'default' : _ref$mode,\n      getRootRef = _ref.getRootRef,\n      className = _ref.className,\n      _ref$role = _ref.role,\n      role = _ref$role === void 0 ? 'tablist' : _ref$role,\n      restProps = _objectWithoutProperties(_ref, _excluded);\n\n  var platform = usePlatform();\n\n  var _useAdaptivity = useAdaptivity(),\n      sizeX = _useAdaptivity.sizeX;\n\n  var _useDOM = useDOM(),\n      document = _useDOM.document;\n\n  var isTabFlow = role === 'tablist';\n  var tabsRef = React.useRef(null);\n  var withGaps = mode === 'accent' || mode === 'secondary';\n\n  var getTabEls = function getTabEls() {\n    if (!tabsRef.current) {\n      return [];\n    }\n\n    return Array.from( // eslint-disable-next-line no-restricted-properties\n    tabsRef.current.querySelectorAll('[role=tab]:not([disabled])'));\n  };\n\n  var handleDocumentKeydown = function handleDocumentKeydown(event) {\n    if (!document || !tabsRef.current || !isTabFlow) {\n      return;\n    }\n\n    var key = pressedKey(event);\n\n    switch (key) {\n      case 'ArrowLeft':\n      case 'ArrowRight':\n      case 'End':\n      case 'Home':\n        {\n          var tabEls = getTabEls();\n          var currentFocusedElIndex = tabEls.findIndex(function (el) {\n            return document.activeElement === el;\n          });\n\n          if (currentFocusedElIndex === -1) {\n            return;\n          }\n\n          var nextIndex = 0;\n\n          if (key === 'Home') {\n            nextIndex = 0;\n          } else if (key === 'End') {\n            nextIndex = tabEls.length - 1;\n          } else {\n            var offset = key === 'ArrowRight' ? 1 : -1;\n            nextIndex = currentFocusedElIndex + offset;\n          }\n\n          var nextTabEl = tabEls[nextIndex];\n\n          if (nextTabEl) {\n            event.preventDefault();\n            nextTabEl.focus();\n          }\n\n          break;\n        }\n\n      /*\n       В JAWS и NVDA стрелка вниз активирует контент.\n       Это не прописано в стандартах, но по ссылке ниже это рекомендуется делать.\n       https://inclusive-components.design/tabbed-interfaces/\n      */\n\n      case 'ArrowDown':\n        {\n          var _tabEls = getTabEls();\n\n          var currentFocusedEl = _tabEls.find(function (el) {\n            return document.activeElement === el;\n          });\n\n          if (!currentFocusedEl || currentFocusedEl.getAttribute('aria-selected') !== 'true') {\n            return;\n          }\n\n          var relatedContentElId = currentFocusedEl.getAttribute('aria-controls');\n\n          if (!relatedContentElId) {\n            return;\n          } // eslint-disable-next-line no-restricted-properties\n\n\n          var relatedContentEl = document.getElementById(relatedContentElId);\n\n          if (!relatedContentEl) {\n            return;\n          }\n\n          event.preventDefault();\n          relatedContentEl.focus();\n          break;\n        }\n\n      case 'Space':\n      case 'Enter':\n        {\n          var _tabEls2 = getTabEls();\n\n          var _currentFocusedEl = _tabEls2.find(function (el) {\n            return document.activeElement === el;\n          });\n\n          if (_currentFocusedEl) {\n            _currentFocusedEl.click();\n          }\n        }\n    }\n  };\n\n  useGlobalEventListener(document, 'keydown', handleDocumentKeydown, {\n    capture: true\n  });\n  return /*#__PURE__*/React.createElement(\"div\", _extends({}, restProps, {\n    ref: getRootRef,\n    className: classNames(\"vkuiTabs\", platform === Platform.VKCOM && styles[\"Tabs--\".concat(platform)], getSizeXClassName(\"vkuiTabs\", sizeX), withGaps && \"vkuiTabs--withGaps\", styles[\"Tabs--mode-\".concat(mode)], className),\n    role: role\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vkuiTabs__in\",\n    ref: tabsRef\n  }, /*#__PURE__*/React.createElement(TabsModeContext.Provider, {\n    value: {\n      mode: mode,\n      withGaps: withGaps\n    }\n  }, children)));\n};\nvar styles = {\n  \"Tabs--withGaps\": \"vkuiTabs--withGaps\",\n  \"Tabs--mode-default\": \"vkuiTabs--mode-default\",\n  \"Tabs--buttons\": \"vkuiTabs--buttons\",\n  \"Tabs--sizeX-compact\": \"vkuiTabs--sizeX-compact\",\n  \"Tabs--sizeX-none\": \"vkuiTabs--sizeX-none\",\n  \"Tabs--mode-accent\": \"vkuiTabs--mode-accent\",\n  \"Tabs--mode-secondary\": \"vkuiTabs--mode-secondary\",\n  \"Tabs--vkcom\": \"vkuiTabs--vkcom\"\n};","map":{"version":3,"mappings":"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","names":["React","classNames","usePlatform","Platform","useGlobalEventListener","useDOM","pressedKey","useAdaptivity","getSizeXClassName","TabsModeContext","createContext","mode","withGaps","Tabs","_ref","children","_ref$mode","getRootRef","className","_ref$role","role","restProps","platform","sizeX","document","isTabFlow","tabsRef","useRef","getTabEls","current","Array","from","querySelectorAll","handleDocumentKeydown","event","key","tabEls","currentFocusedElIndex","findIndex","el","activeElement","nextIndex","length","offset","nextTabEl","preventDefault","focus","currentFocusedEl","find","getAttribute","relatedContentElId","relatedContentEl","getElementById","click","capture","ref","VKCOM","styles","Provider","value"],"sources":["/Users/pitus_anonimous/Desktop/youth_bit_hack/youth_bit_vk/node_modules/@vkontakte/vkui/src/components/Tabs/Tabs.tsx"],"sourcesContent":["import * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { HasRootRef } from '../../types';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { Platform } from '../../lib/platform';\nimport { useGlobalEventListener } from '../../hooks/useGlobalEventListener';\nimport { useDOM } from '../../lib/dom';\nimport { pressedKey } from '../../lib/accessibility';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport { getSizeXClassName } from '../../helpers/getSizeXClassName';\nimport styles from './Tabs.module.css';\n\nexport interface TabsProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    HasRootRef<HTMLDivElement> {\n  mode?: 'default' | 'accent' | 'secondary';\n}\n\nexport interface TabsContextProps {\n  mode: TabsProps['mode'];\n  withGaps: boolean;\n}\n\nexport const TabsModeContext = React.createContext<TabsContextProps>({\n  mode: 'default',\n  withGaps: false,\n});\n\n/**\n * @see https://vkcom.github.io/VKUI/#/Tabs\n */\nexport const Tabs = ({\n  children,\n  mode = 'default',\n  getRootRef,\n  className,\n  role = 'tablist',\n  ...restProps\n}: TabsProps) => {\n  const platform = usePlatform();\n  const { sizeX } = useAdaptivity();\n  const { document } = useDOM();\n\n  const isTabFlow = role === 'tablist';\n\n  const tabsRef = React.useRef<HTMLDivElement>(null);\n\n  const withGaps = mode === 'accent' || mode === 'secondary';\n\n  const getTabEls = () => {\n    if (!tabsRef.current) {\n      return [];\n    }\n\n    return Array.from(\n      // eslint-disable-next-line no-restricted-properties\n      tabsRef.current.querySelectorAll<HTMLDivElement>('[role=tab]:not([disabled])'),\n    );\n  };\n\n  const handleDocumentKeydown = (event: KeyboardEvent) => {\n    if (!document || !tabsRef.current || !isTabFlow) {\n      return;\n    }\n\n    const key = pressedKey(event);\n\n    switch (key) {\n      case 'ArrowLeft':\n      case 'ArrowRight':\n      case 'End':\n      case 'Home': {\n        const tabEls = getTabEls();\n        const currentFocusedElIndex = tabEls.findIndex((el) => document.activeElement === el);\n        if (currentFocusedElIndex === -1) {\n          return;\n        }\n\n        let nextIndex = 0;\n        if (key === 'Home') {\n          nextIndex = 0;\n        } else if (key === 'End') {\n          nextIndex = tabEls.length - 1;\n        } else {\n          const offset = key === 'ArrowRight' ? 1 : -1;\n          nextIndex = currentFocusedElIndex + offset;\n        }\n\n        const nextTabEl = tabEls[nextIndex];\n\n        if (nextTabEl) {\n          event.preventDefault();\n          nextTabEl.focus();\n        }\n\n        break;\n      }\n      /*\n       В JAWS и NVDA стрелка вниз активирует контент.\n       Это не прописано в стандартах, но по ссылке ниже это рекомендуется делать.\n       https://inclusive-components.design/tabbed-interfaces/\n      */\n      case 'ArrowDown': {\n        const tabEls = getTabEls();\n        const currentFocusedEl = tabEls.find((el) => document.activeElement === el);\n\n        if (!currentFocusedEl || currentFocusedEl.getAttribute('aria-selected') !== 'true') {\n          return;\n        }\n\n        const relatedContentElId = currentFocusedEl.getAttribute('aria-controls');\n        if (!relatedContentElId) {\n          return;\n        }\n\n        // eslint-disable-next-line no-restricted-properties\n        const relatedContentEl = document.getElementById(relatedContentElId);\n        if (!relatedContentEl) {\n          return;\n        }\n\n        event.preventDefault();\n        relatedContentEl.focus();\n\n        break;\n      }\n      case 'Space':\n      case 'Enter': {\n        const tabEls = getTabEls();\n        const currentFocusedEl = tabEls.find((el) => document.activeElement === el);\n        if (currentFocusedEl) {\n          currentFocusedEl.click();\n        }\n      }\n    }\n  };\n\n  useGlobalEventListener(document, 'keydown', handleDocumentKeydown, {\n    capture: true,\n  });\n\n  return (\n    <div\n      {...restProps}\n      ref={getRootRef}\n      className={classNames(\n        styles['Tabs'],\n        platform === Platform.VKCOM && styles[`Tabs--${platform}`],\n        getSizeXClassName(styles['Tabs'], sizeX),\n        withGaps && styles['Tabs--withGaps'],\n        styles[`Tabs--mode-${mode}`],\n        className,\n      )}\n      role={role}\n    >\n      <div className={styles['Tabs__in']} ref={tabsRef}>\n        <TabsModeContext.Provider value={{ mode, withGaps }}>{children}</TabsModeContext.Provider>\n      </div>\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}