{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"enableTime\", \"shouldDisableDate\", \"disableFuture\", \"disablePast\", \"value\", \"onChange\", \"calendarPlacement\", \"style\", \"className\", \"doneButtonText\", \"closeOnChange\", \"disablePickers\", \"getRootRef\", \"name\", \"autoFocus\", \"disabled\", \"onClick\", \"onFocus\", \"prevMonthAriaLabel\", \"nextMonthAriaLabel\", \"showNeighboringMonth\", \"size\", \"changeMonthAriaLabel\", \"changeYearAriaLabel\", \"changeDayAriaLabel\", \"changeHoursAriaLabel\", \"changeMinutesAriaLabel\", \"clearFieldAriaLabel\", \"showCalendarAriaLabel\", \"viewDate\", \"onHeaderChange\", \"onNextMonth\", \"onPrevMonth\", \"prevMonthIcon\", \"nextMonthIcon\", \"disableCalendar\"];\nimport * as React from 'react';\nimport { format, isMatch, parse } from '../../lib/date';\nimport { Icon16Clear, Icon20CalendarOutline } from '@vkontakte/icons';\nimport { Calendar } from '../Calendar/Calendar';\nimport { Popper } from '../Popper/Popper';\nimport { multiRef } from '../../lib/utils';\nimport { IconButton } from '../IconButton/IconButton';\nimport { classNames } from '@vkontakte/vkjs';\nimport { FormField } from '../FormField/FormField';\nimport { useDateInput } from '../../hooks/useDateInput';\nimport { InputLike } from '../InputLike/InputLike';\nimport { InputLikeDivider } from '../InputLike/InputLikeDivider';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport { callMultiple } from '../../lib/callMultiple';\nimport { getSizeYClassName } from '../../helpers/getSizeYClassName';\n\nvar elementsConfig = function elementsConfig(index) {\n  var length = 2;\n  var min = 1;\n  var max = 0;\n\n  switch (index) {\n    case 0:\n      max = 31;\n      break;\n\n    case 1:\n      max = 12;\n      break;\n\n    case 2:\n      max = 2100;\n      min = 1900;\n      length = 4;\n      break;\n\n    case 3:\n      max = 23;\n      break;\n\n    case 4:\n      max = 59;\n      break;\n  }\n\n  return {\n    length: length,\n    min: min,\n    max: max\n  };\n};\n\nvar getInternalValue = function getInternalValue(value) {\n  var newValue = ['', '', '', '', ''];\n\n  if (value) {\n    newValue[0] = String(value.getDate()).padStart(2, '0');\n    newValue[1] = String(value.getMonth() + 1).padStart(2, '0');\n    newValue[2] = String(value.getFullYear()).padStart(4, '0');\n    newValue[3] = String(value.getHours()).padStart(2, '0');\n    newValue[4] = String(value.getMinutes()).padStart(2, '0');\n  }\n\n  return newValue;\n};\n/**\n * @see https://vkcom.github.io/VKUI/#/DateInput\n */\n\n\nexport var DateInput = function DateInput(_ref) {\n  var enableTime = _ref.enableTime,\n      shouldDisableDate = _ref.shouldDisableDate,\n      disableFuture = _ref.disableFuture,\n      disablePast = _ref.disablePast,\n      value = _ref.value,\n      onChange = _ref.onChange,\n      _ref$calendarPlacemen = _ref.calendarPlacement,\n      calendarPlacement = _ref$calendarPlacemen === void 0 ? 'bottom-start' : _ref$calendarPlacemen,\n      style = _ref.style,\n      className = _ref.className,\n      doneButtonText = _ref.doneButtonText,\n      _ref$closeOnChange = _ref.closeOnChange,\n      closeOnChange = _ref$closeOnChange === void 0 ? true : _ref$closeOnChange,\n      disablePickers = _ref.disablePickers,\n      getRootRef = _ref.getRootRef,\n      name = _ref.name,\n      autoFocus = _ref.autoFocus,\n      disabled = _ref.disabled,\n      onClick = _ref.onClick,\n      onFocus = _ref.onFocus,\n      prevMonthAriaLabel = _ref.prevMonthAriaLabel,\n      nextMonthAriaLabel = _ref.nextMonthAriaLabel,\n      showNeighboringMonth = _ref.showNeighboringMonth,\n      size = _ref.size,\n      _ref$changeMonthAriaL = _ref.changeMonthAriaLabel,\n      changeMonthAriaLabel = _ref$changeMonthAriaL === void 0 ? 'Изменить месяц' : _ref$changeMonthAriaL,\n      _ref$changeYearAriaLa = _ref.changeYearAriaLabel,\n      changeYearAriaLabel = _ref$changeYearAriaLa === void 0 ? 'Изменить год' : _ref$changeYearAriaLa,\n      _ref$changeDayAriaLab = _ref.changeDayAriaLabel,\n      changeDayAriaLabel = _ref$changeDayAriaLab === void 0 ? 'Изменить день' : _ref$changeDayAriaLab,\n      _ref$changeHoursAriaL = _ref.changeHoursAriaLabel,\n      changeHoursAriaLabel = _ref$changeHoursAriaL === void 0 ? 'Изменить час' : _ref$changeHoursAriaL,\n      _ref$changeMinutesAri = _ref.changeMinutesAriaLabel,\n      changeMinutesAriaLabel = _ref$changeMinutesAri === void 0 ? 'Изменить минуту' : _ref$changeMinutesAri,\n      _ref$clearFieldAriaLa = _ref.clearFieldAriaLabel,\n      clearFieldAriaLabel = _ref$clearFieldAriaLa === void 0 ? 'Очистить поле' : _ref$clearFieldAriaLa,\n      _ref$showCalendarAria = _ref.showCalendarAriaLabel,\n      showCalendarAriaLabel = _ref$showCalendarAria === void 0 ? 'Показать календарь' : _ref$showCalendarAria,\n      viewDate = _ref.viewDate,\n      onHeaderChange = _ref.onHeaderChange,\n      onNextMonth = _ref.onNextMonth,\n      onPrevMonth = _ref.onPrevMonth,\n      prevMonthIcon = _ref.prevMonthIcon,\n      nextMonthIcon = _ref.nextMonthIcon,\n      _ref$disableCalendar = _ref.disableCalendar,\n      disableCalendar = _ref$disableCalendar === void 0 ? false : _ref$disableCalendar,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var daysRef = React.useRef(null);\n  var monthsRef = React.useRef(null);\n  var yearsRef = React.useRef(null);\n  var hoursRef = React.useRef(null);\n  var minutesRef = React.useRef(null);\n  var maxElement = enableTime ? 4 : 2;\n  var onInternalValueChange = React.useCallback(function (internalValue) {\n    for (var i = 0; i <= maxElement; i += 1) {\n      if (internalValue[i].length < elementsConfig(i).length) {\n        return;\n      }\n    }\n\n    var formattedValue = \"\".concat(internalValue[0], \".\").concat(internalValue[1], \".\").concat(internalValue[2]);\n    var mask = 'DD.MM.YYYY';\n\n    if (enableTime) {\n      formattedValue += \" \".concat(internalValue[3], \":\").concat(internalValue[4]);\n      mask += ' HH:mm';\n    }\n\n    if (isMatch(formattedValue, mask)) {\n      onChange === null || onChange === void 0 ? void 0 : onChange(parse(formattedValue, mask, value !== null && value !== void 0 ? value : new Date()));\n    }\n  }, [enableTime, maxElement, onChange, value]);\n  var refs = React.useMemo(function () {\n    return [daysRef, monthsRef, yearsRef, hoursRef, minutesRef];\n  }, [daysRef, monthsRef, yearsRef, hoursRef, minutesRef]);\n\n  var _useDateInput = useDateInput({\n    maxElement: maxElement,\n    refs: refs,\n    autoFocus: autoFocus,\n    disabled: disabled,\n    elementsConfig: elementsConfig,\n    onChange: onChange,\n    onInternalValueChange: onInternalValueChange,\n    getInternalValue: getInternalValue,\n    value: value\n  }),\n      rootRef = _useDateInput.rootRef,\n      calendarRef = _useDateInput.calendarRef,\n      open = _useDateInput.open,\n      openCalendar = _useDateInput.openCalendar,\n      closeCalendar = _useDateInput.closeCalendar,\n      internalValue = _useDateInput.internalValue,\n      handleKeyDown = _useDateInput.handleKeyDown,\n      setFocusedElement = _useDateInput.setFocusedElement,\n      handleFieldEnter = _useDateInput.handleFieldEnter,\n      clear = _useDateInput.clear,\n      removeFocusFromField = _useDateInput.removeFocusFromField;\n\n  var _useAdaptivity = useAdaptivity(),\n      sizeY = _useAdaptivity.sizeY;\n\n  var onCalendarChange = React.useCallback(function (value) {\n    onChange === null || onChange === void 0 ? void 0 : onChange(value);\n\n    if (closeOnChange && !enableTime) {\n      removeFocusFromField();\n    }\n  }, [onChange, removeFocusFromField, closeOnChange, enableTime]);\n  return /*#__PURE__*/React.createElement(FormField, _extends({\n    style: style,\n    className: classNames(\"vkuiDateInput\", getSizeYClassName(\"vkuiDateInput\", sizeY), className),\n    getRootRef: multiRef(rootRef, getRootRef),\n    after: value ? /*#__PURE__*/React.createElement(IconButton, {\n      hoverMode: \"opacity\",\n      \"aria-label\": clearFieldAriaLabel,\n      onClick: clear\n    }, /*#__PURE__*/React.createElement(Icon16Clear, null)) : /*#__PURE__*/React.createElement(IconButton, {\n      hoverMode: \"opacity\",\n      \"aria-label\": showCalendarAriaLabel,\n      onClick: openCalendar\n    }, /*#__PURE__*/React.createElement(Icon20CalendarOutline, null)),\n    disabled: disabled,\n    onClick: callMultiple(handleFieldEnter, onClick),\n    onFocus: callMultiple(handleFieldEnter, onFocus)\n  }, props), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"hidden\",\n    name: name,\n    value: value ? format(value, enableTime ? 'DD.MM.YYYYTHH:mm' : 'DD.MM.YYYY') : ''\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"vkuiDateInput__input\",\n    onKeyDown: handleKeyDown\n  }, /*#__PURE__*/React.createElement(InputLike, {\n    tabIndex: 1,\n    length: 2,\n    getRootRef: daysRef,\n    index: 0,\n    onElementSelect: setFocusedElement,\n    value: internalValue[0],\n    \"aria-label\": changeDayAriaLabel\n  }), /*#__PURE__*/React.createElement(InputLikeDivider, null, \".\"), /*#__PURE__*/React.createElement(InputLike, {\n    length: 2,\n    getRootRef: monthsRef,\n    index: 1,\n    onElementSelect: setFocusedElement,\n    value: internalValue[1],\n    \"aria-label\": changeMonthAriaLabel\n  }), /*#__PURE__*/React.createElement(InputLikeDivider, null, \".\"), /*#__PURE__*/React.createElement(InputLike, {\n    length: 4,\n    getRootRef: yearsRef,\n    index: 2,\n    onElementSelect: setFocusedElement,\n    value: internalValue[2],\n    \"aria-label\": changeYearAriaLabel\n  }), enableTime && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(InputLikeDivider, {\n    className: \"vkuiDateInput__input--time-divider\"\n  }, ' '), /*#__PURE__*/React.createElement(InputLike, {\n    length: 2,\n    getRootRef: hoursRef,\n    index: 3,\n    onElementSelect: setFocusedElement,\n    value: internalValue[3],\n    \"aria-label\": changeHoursAriaLabel\n  }), /*#__PURE__*/React.createElement(InputLikeDivider, null, \":\"), /*#__PURE__*/React.createElement(InputLike, {\n    length: 2,\n    getRootRef: minutesRef,\n    index: 4,\n    onElementSelect: setFocusedElement,\n    value: internalValue[4],\n    \"aria-label\": changeMinutesAriaLabel\n  }))), open && !disableCalendar && /*#__PURE__*/React.createElement(Popper, {\n    targetRef: rootRef,\n    offsetDistance: 8,\n    placement: calendarPlacement\n  }, /*#__PURE__*/React.createElement(Calendar, {\n    value: value,\n    onChange: onCalendarChange,\n    enableTime: enableTime,\n    disablePast: disablePast,\n    disableFuture: disableFuture,\n    shouldDisableDate: shouldDisableDate,\n    onClose: closeCalendar,\n    getRootRef: calendarRef,\n    doneButtonText: doneButtonText,\n    disablePickers: disablePickers,\n    changeHoursAriaLabel: changeHoursAriaLabel,\n    changeMinutesAriaLabel: changeMinutesAriaLabel,\n    prevMonthAriaLabel: prevMonthAriaLabel,\n    nextMonthAriaLabel: nextMonthAriaLabel,\n    changeMonthAriaLabel: changeMonthAriaLabel,\n    changeYearAriaLabel: changeYearAriaLabel,\n    changeDayAriaLabel: changeDayAriaLabel,\n    showNeighboringMonth: showNeighboringMonth,\n    size: size,\n    viewDate: viewDate,\n    onHeaderChange: onHeaderChange,\n    onNextMonth: onNextMonth,\n    onPrevMonth: onPrevMonth,\n    prevMonthIcon: prevMonthIcon,\n    nextMonthIcon: nextMonthIcon\n  })));\n};","map":{"version":3,"mappings":"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","names":["React","format","isMatch","parse","Icon16Clear","Icon20CalendarOutline","Calendar","Popper","multiRef","IconButton","classNames","FormField","useDateInput","InputLike","InputLikeDivider","useAdaptivity","callMultiple","getSizeYClassName","elementsConfig","index","length","min","max","getInternalValue","value","newValue","String","getDate","padStart","getMonth","getFullYear","getHours","getMinutes","DateInput","_ref","enableTime","shouldDisableDate","disableFuture","disablePast","onChange","_ref$calendarPlacemen","calendarPlacement","style","className","doneButtonText","_ref$closeOnChange","closeOnChange","disablePickers","getRootRef","name","autoFocus","disabled","onClick","onFocus","prevMonthAriaLabel","nextMonthAriaLabel","showNeighboringMonth","size","_ref$changeMonthAriaL","changeMonthAriaLabel","_ref$changeYearAriaLa","changeYearAriaLabel","_ref$changeDayAriaLab","changeDayAriaLabel","_ref$changeHoursAriaL","changeHoursAriaLabel","_ref$changeMinutesAri","changeMinutesAriaLabel","_ref$clearFieldAriaLa","clearFieldAriaLabel","_ref$showCalendarAria","showCalendarAriaLabel","viewDate","onHeaderChange","onNextMonth","onPrevMonth","prevMonthIcon","nextMonthIcon","_ref$disableCalendar","disableCalendar","props","daysRef","useRef","monthsRef","yearsRef","hoursRef","minutesRef","maxElement","onInternalValueChange","useCallback","internalValue","i","formattedValue","concat","mask","Date","refs","useMemo","rootRef","calendarRef","open","openCalendar","closeCalendar","handleKeyDown","setFocusedElement","handleFieldEnter","clear","removeFocusFromField","sizeY","onCalendarChange","_extends","after","hoverMode","type","onKeyDown","tabIndex","onElementSelect","Fragment","targetRef","offsetDistance","placement","onClose"],"sources":["/Users/pitus_anonimous/Desktop/youth_bit_hack/youth_bit_vk/node_modules/@vkontakte/vkui/src/components/DateInput/DateInput.tsx"],"sourcesContent":["import * as React from 'react';\nimport { format, isMatch, parse } from '../../lib/date';\nimport { Icon16Clear, Icon20CalendarOutline } from '@vkontakte/icons';\nimport { Calendar, CalendarProps } from '../Calendar/Calendar';\nimport { Popper, Placement } from '../Popper/Popper';\nimport { multiRef } from '../../lib/utils';\nimport { IconButton } from '../IconButton/IconButton';\nimport { classNames } from '@vkontakte/vkjs';\nimport { FormField, FormFieldProps } from '../FormField/FormField';\nimport { HasRootRef } from '../../types';\nimport { useDateInput } from '../../hooks/useDateInput';\nimport { InputLike } from '../InputLike/InputLike';\nimport { InputLikeDivider } from '../InputLike/InputLikeDivider';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport { callMultiple } from '../../lib/callMultiple';\nimport { getSizeYClassName } from '../../helpers/getSizeYClassName';\nimport styles from './DateInput.module.css';\n\nexport interface DateInputProps\n  extends Omit<React.InputHTMLAttributes<HTMLDivElement>, 'value' | 'onChange' | 'size'>,\n    Pick<\n      CalendarProps,\n      | 'disablePast'\n      | 'disableFuture'\n      | 'enableTime'\n      | 'shouldDisableDate'\n      | 'onChange'\n      | 'value'\n      | 'doneButtonText'\n      | 'weekStartsOn'\n      | 'disablePickers'\n      | 'changeHoursAriaLabel'\n      | 'changeMinutesAriaLabel'\n      | 'prevMonthAriaLabel'\n      | 'nextMonthAriaLabel'\n      | 'changeMonthAriaLabel'\n      | 'changeYearAriaLabel'\n      | 'changeDayAriaLabel'\n      | 'showNeighboringMonth'\n      | 'size'\n      | 'viewDate'\n      | 'onHeaderChange'\n      | 'onNextMonth'\n      | 'onPrevMonth'\n      | 'prevMonthIcon'\n      | 'nextMonthIcon'\n    >,\n    HasRootRef<HTMLDivElement>,\n    FormFieldProps {\n  calendarPlacement?: Placement;\n  closeOnChange?: boolean;\n  clearFieldAriaLabel?: string;\n  showCalendarAriaLabel?: string;\n  disableCalendar?: boolean;\n}\n\nconst elementsConfig = (index: number) => {\n  let length = 2;\n  let min = 1;\n  let max = 0;\n\n  switch (index) {\n    case 0:\n      max = 31;\n      break;\n    case 1:\n      max = 12;\n      break;\n    case 2:\n      max = 2100;\n      min = 1900;\n      length = 4;\n      break;\n    case 3:\n      max = 23;\n      break;\n    case 4:\n      max = 59;\n      break;\n  }\n\n  return { length, min, max };\n};\n\nconst getInternalValue = (value: CalendarProps['value']) => {\n  const newValue = ['', '', '', '', ''];\n  if (value) {\n    newValue[0] = String(value.getDate()).padStart(2, '0');\n    newValue[1] = String(value.getMonth() + 1).padStart(2, '0');\n    newValue[2] = String(value.getFullYear()).padStart(4, '0');\n    newValue[3] = String(value.getHours()).padStart(2, '0');\n    newValue[4] = String(value.getMinutes()).padStart(2, '0');\n  }\n  return newValue;\n};\n\n/**\n * @see https://vkcom.github.io/VKUI/#/DateInput\n */\nexport const DateInput = ({\n  enableTime,\n  shouldDisableDate,\n  disableFuture,\n  disablePast,\n  value,\n  onChange,\n  calendarPlacement = 'bottom-start',\n  style,\n  className,\n  doneButtonText,\n  closeOnChange = true,\n  disablePickers,\n  getRootRef,\n  name,\n  autoFocus,\n  disabled,\n  onClick,\n  onFocus,\n  prevMonthAriaLabel,\n  nextMonthAriaLabel,\n  showNeighboringMonth,\n  size,\n  changeMonthAriaLabel = 'Изменить месяц',\n  changeYearAriaLabel = 'Изменить год',\n  changeDayAriaLabel = 'Изменить день',\n  changeHoursAriaLabel = 'Изменить час',\n  changeMinutesAriaLabel = 'Изменить минуту',\n  clearFieldAriaLabel = 'Очистить поле',\n  showCalendarAriaLabel = 'Показать календарь',\n  viewDate,\n  onHeaderChange,\n  onNextMonth,\n  onPrevMonth,\n  prevMonthIcon,\n  nextMonthIcon,\n  disableCalendar = false,\n  ...props\n}: DateInputProps) => {\n  const daysRef = React.useRef<HTMLSpanElement>(null);\n  const monthsRef = React.useRef<HTMLSpanElement>(null);\n  const yearsRef = React.useRef<HTMLSpanElement>(null);\n  const hoursRef = React.useRef<HTMLSpanElement>(null);\n  const minutesRef = React.useRef<HTMLSpanElement>(null);\n\n  const maxElement = enableTime ? 4 : 2;\n\n  const onInternalValueChange = React.useCallback(\n    (internalValue: string[]) => {\n      for (let i = 0; i <= maxElement; i += 1) {\n        if (internalValue[i].length < elementsConfig(i).length) {\n          return;\n        }\n      }\n\n      let formattedValue = `${internalValue[0]}.${internalValue[1]}.${internalValue[2]}`;\n      let mask = 'DD.MM.YYYY';\n      if (enableTime) {\n        formattedValue += ` ${internalValue[3]}:${internalValue[4]}`;\n        mask += ' HH:mm';\n      }\n\n      if (isMatch(formattedValue, mask)) {\n        onChange?.(parse(formattedValue, mask, value ?? new Date()));\n      }\n    },\n    [enableTime, maxElement, onChange, value],\n  );\n\n  const refs = React.useMemo(\n    () => [daysRef, monthsRef, yearsRef, hoursRef, minutesRef],\n    [daysRef, monthsRef, yearsRef, hoursRef, minutesRef],\n  );\n\n  const {\n    rootRef,\n    calendarRef,\n    open,\n    openCalendar,\n    closeCalendar,\n    internalValue,\n    handleKeyDown,\n    setFocusedElement,\n    handleFieldEnter,\n    clear,\n    removeFocusFromField,\n  } = useDateInput({\n    maxElement,\n    refs,\n    autoFocus,\n    disabled,\n    elementsConfig,\n    onChange,\n    onInternalValueChange,\n    getInternalValue,\n    value,\n  });\n\n  const { sizeY } = useAdaptivity();\n\n  const onCalendarChange = React.useCallback(\n    (value?: Date | undefined) => {\n      onChange?.(value);\n      if (closeOnChange && !enableTime) {\n        removeFocusFromField();\n      }\n    },\n    [onChange, removeFocusFromField, closeOnChange, enableTime],\n  );\n\n  return (\n    <FormField\n      style={style}\n      className={classNames(\n        styles['DateInput'],\n        getSizeYClassName(styles['DateInput'], sizeY),\n        className,\n      )}\n      getRootRef={multiRef(rootRef, getRootRef)}\n      after={\n        value ? (\n          <IconButton hoverMode=\"opacity\" aria-label={clearFieldAriaLabel} onClick={clear}>\n            <Icon16Clear />\n          </IconButton>\n        ) : (\n          <IconButton hoverMode=\"opacity\" aria-label={showCalendarAriaLabel} onClick={openCalendar}>\n            <Icon20CalendarOutline />\n          </IconButton>\n        )\n      }\n      disabled={disabled}\n      onClick={callMultiple(handleFieldEnter, onClick)}\n      onFocus={callMultiple(handleFieldEnter, onFocus)}\n      {...props}\n    >\n      <input\n        type=\"hidden\"\n        name={name}\n        value={value ? format(value, enableTime ? 'DD.MM.YYYYTHH:mm' : 'DD.MM.YYYY') : ''}\n      />\n      <span className={styles['DateInput__input']} onKeyDown={handleKeyDown}>\n        <InputLike\n          tabIndex={1}\n          length={2}\n          getRootRef={daysRef}\n          index={0}\n          onElementSelect={setFocusedElement}\n          value={internalValue[0]}\n          aria-label={changeDayAriaLabel}\n        />\n        <InputLikeDivider>.</InputLikeDivider>\n        <InputLike\n          length={2}\n          getRootRef={monthsRef}\n          index={1}\n          onElementSelect={setFocusedElement}\n          value={internalValue[1]}\n          aria-label={changeMonthAriaLabel}\n        />\n        <InputLikeDivider>.</InputLikeDivider>\n        <InputLike\n          length={4}\n          getRootRef={yearsRef}\n          index={2}\n          onElementSelect={setFocusedElement}\n          value={internalValue[2]}\n          aria-label={changeYearAriaLabel}\n        />\n        {enableTime && (\n          <React.Fragment>\n            <InputLikeDivider className={styles['DateInput__input--time-divider']}>\n              {' '}\n            </InputLikeDivider>\n            <InputLike\n              length={2}\n              getRootRef={hoursRef}\n              index={3}\n              onElementSelect={setFocusedElement}\n              value={internalValue[3]}\n              aria-label={changeHoursAriaLabel}\n            />\n            <InputLikeDivider>:</InputLikeDivider>\n            <InputLike\n              length={2}\n              getRootRef={minutesRef}\n              index={4}\n              onElementSelect={setFocusedElement}\n              value={internalValue[4]}\n              aria-label={changeMinutesAriaLabel}\n            />\n          </React.Fragment>\n        )}\n      </span>\n      {open && !disableCalendar && (\n        <Popper targetRef={rootRef} offsetDistance={8} placement={calendarPlacement}>\n          <Calendar\n            value={value}\n            onChange={onCalendarChange}\n            enableTime={enableTime}\n            disablePast={disablePast}\n            disableFuture={disableFuture}\n            shouldDisableDate={shouldDisableDate}\n            onClose={closeCalendar}\n            getRootRef={calendarRef}\n            doneButtonText={doneButtonText}\n            disablePickers={disablePickers}\n            changeHoursAriaLabel={changeHoursAriaLabel}\n            changeMinutesAriaLabel={changeMinutesAriaLabel}\n            prevMonthAriaLabel={prevMonthAriaLabel}\n            nextMonthAriaLabel={nextMonthAriaLabel}\n            changeMonthAriaLabel={changeMonthAriaLabel}\n            changeYearAriaLabel={changeYearAriaLabel}\n            changeDayAriaLabel={changeDayAriaLabel}\n            showNeighboringMonth={showNeighboringMonth}\n            size={size}\n            viewDate={viewDate}\n            onHeaderChange={onHeaderChange}\n            onNextMonth={onNextMonth}\n            onPrevMonth={onPrevMonth}\n            prevMonthIcon={prevMonthIcon}\n            nextMonthIcon={nextMonthIcon}\n          />\n        </Popper>\n      )}\n    </FormField>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}