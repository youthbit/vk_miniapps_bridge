{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport * as React from 'react';\nimport { hasMouse as _hasPointer } from '@vkontakte/vkjs';\nimport { SizeType, ViewWidth, ViewHeight, BREAKPOINTS } from '../../lib/adaptivity';\nimport { useBridgeAdaptivity } from '../../hooks/useBridgeAdaptivity';\nimport { AdaptivityContext } from './AdaptivityContext';\n/**\n * @see https://vkcom.github.io/VKUI/#/AdaptivityProvider\n */\n\nexport var AdaptivityProvider = function AdaptivityProvider(_ref) {\n  var viewWidth = _ref.viewWidth,\n      viewHeight = _ref.viewHeight,\n      sizeX = _ref.sizeX,\n      sizeY = _ref.sizeY,\n      hasPointer = _ref.hasPointer,\n      hasHover = _ref.hasHover,\n      children = _ref.children;\n  var bridge = useBridgeAdaptivity();\n\n  var _React$useState = React.useState({\n    viewWidth: viewWidth,\n    viewHeight: viewHeight,\n    sizeX: sizeX,\n    sizeY: sizeY,\n    hasPointer: hasPointer,\n    hasHover: hasHover\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      adaptivity = _React$useState2[0],\n      setAdaptivity = _React$useState2[1];\n\n  React.useEffect(function () {\n    setAdaptivity(calculateAdaptivity({\n      viewWidth: viewWidth,\n      viewHeight: viewHeight,\n      sizeX: sizeX,\n      sizeY: sizeY,\n      hasPointer: hasPointer,\n      hasHover: hasHover\n    }, bridge));\n  }, [viewWidth, viewHeight, sizeX, sizeY, hasPointer, hasHover, bridge]);\n  return /*#__PURE__*/React.createElement(AdaptivityContext.Provider, {\n    value: adaptivity\n  }, children);\n};\n\nfunction calculateAdaptivity(_ref2, bridge) {\n  var viewWidth = _ref2.viewWidth,\n      viewHeight = _ref2.viewHeight,\n      sizeX = _ref2.sizeX,\n      sizeY = _ref2.sizeY,\n      hasPointer = _ref2.hasPointer,\n      hasHover = _ref2.hasHover;\n\n  if (bridge.type === 'adaptive') {\n    var viewportWidth = bridge.viewportWidth,\n        viewportHeight = bridge.viewportHeight;\n\n    if (viewportWidth >= BREAKPOINTS.DESKTOP) {\n      viewWidth = ViewWidth.DESKTOP;\n    } else if (viewportWidth >= BREAKPOINTS.TABLET) {\n      viewWidth = ViewWidth.TABLET;\n    } else if (viewportWidth >= BREAKPOINTS.SMALL_TABLET) {\n      viewWidth = ViewWidth.SMALL_TABLET;\n    } else if (viewportWidth >= BREAKPOINTS.MOBILE) {\n      viewWidth = ViewWidth.MOBILE;\n    } else {\n      viewWidth = ViewWidth.SMALL_MOBILE;\n    }\n\n    if (viewportHeight >= BREAKPOINTS.MEDIUM_HEIGHT) {\n      viewHeight = ViewHeight.MEDIUM;\n    } else if (viewportHeight > BREAKPOINTS.MOBILE_LANDSCAPE_HEIGHT) {\n      viewHeight = ViewHeight.SMALL;\n    } else {\n      viewHeight = ViewHeight.EXTRA_SMALL;\n    }\n\n    if (viewWidth <= ViewWidth.MOBILE) {\n      sizeX = SizeType.COMPACT;\n    } else {\n      sizeX = SizeType.REGULAR;\n    }\n\n    if (viewWidth >= ViewWidth.SMALL_TABLET && _hasPointer || viewHeight <= ViewHeight.EXTRA_SMALL) {\n      sizeY = SizeType.COMPACT;\n    } else {\n      sizeY = SizeType.REGULAR;\n    }\n  } else if (bridge.type === 'force_mobile' || bridge.type === 'force_mobile_compact') {\n    viewWidth = ViewWidth.MOBILE;\n    sizeX = SizeType.COMPACT;\n\n    if (bridge.type === 'force_mobile_compact') {\n      sizeY = SizeType.COMPACT;\n    } else {\n      sizeY = SizeType.REGULAR;\n    }\n  } else {\n    if (sizeX === undefined && viewWidth !== undefined) {\n      if (viewWidth <= ViewWidth.MOBILE) {\n        sizeX = SizeType.COMPACT;\n      } else {\n        sizeX = SizeType.REGULAR;\n      }\n    }\n\n    if (sizeY === undefined && viewWidth !== undefined && viewHeight !== undefined) {\n      if (viewWidth >= ViewWidth.SMALL_TABLET && _hasPointer || viewHeight <= ViewHeight.EXTRA_SMALL) {\n        sizeY = SizeType.COMPACT;\n      } else {\n        sizeY = SizeType.REGULAR;\n      }\n    }\n  }\n\n  return {\n    viewWidth: viewWidth,\n    viewHeight: viewHeight,\n    sizeX: sizeX,\n    sizeY: sizeY,\n    hasPointer: hasPointer,\n    hasHover: hasHover\n  };\n}","map":{"version":3,"mappings":"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","names":["React","hasMouse","_hasPointer","SizeType","ViewWidth","ViewHeight","BREAKPOINTS","useBridgeAdaptivity","AdaptivityContext","AdaptivityProvider","_ref","viewWidth","viewHeight","sizeX","sizeY","hasPointer","hasHover","children","bridge","useState","_React$useState2","adaptivity","setAdaptivity","useEffect","calculateAdaptivity","Provider","value","_ref2","type","viewportWidth","viewportHeight","DESKTOP","TABLET","SMALL_TABLET","MOBILE","SMALL_MOBILE","MEDIUM_HEIGHT","MEDIUM","MOBILE_LANDSCAPE_HEIGHT","SMALL","EXTRA_SMALL","COMPACT","REGULAR","undefined"],"sources":["/Users/pitus_anonimous/Desktop/youth_bit_hack/youth_bit_vk/node_modules/@vkontakte/vkui/src/components/AdaptivityProvider/AdaptivityProvider.tsx"],"sourcesContent":["import * as React from 'react';\nimport { hasMouse as _hasPointer } from '@vkontakte/vkjs';\nimport { SizeType, ViewWidth, ViewHeight, BREAKPOINTS } from '../../lib/adaptivity';\nimport { useBridgeAdaptivity, BridgeAdaptivity } from '../../hooks/useBridgeAdaptivity';\nimport { type AdaptivityProps, AdaptivityContext } from './AdaptivityContext';\n\nexport interface AdaptivityProviderProps extends AdaptivityProps {\n  children?: React.ReactNode;\n}\n\n/**\n * @see https://vkcom.github.io/VKUI/#/AdaptivityProvider\n */\nexport const AdaptivityProvider = ({\n  viewWidth,\n  viewHeight,\n  sizeX,\n  sizeY,\n  hasPointer,\n  hasHover,\n  children,\n}: React.PropsWithChildren<AdaptivityProps>) => {\n  const bridge = useBridgeAdaptivity();\n  const [adaptivity, setAdaptivity] = React.useState({\n    viewWidth,\n    viewHeight,\n    sizeX,\n    sizeY,\n    hasPointer,\n    hasHover,\n  });\n\n  React.useEffect(() => {\n    setAdaptivity(\n      calculateAdaptivity(\n        {\n          viewWidth,\n          viewHeight,\n          sizeX,\n          sizeY,\n          hasPointer,\n          hasHover,\n        },\n        bridge,\n      ),\n    );\n  }, [viewWidth, viewHeight, sizeX, sizeY, hasPointer, hasHover, bridge]);\n\n  return <AdaptivityContext.Provider value={adaptivity}>{children}</AdaptivityContext.Provider>;\n};\n\nfunction calculateAdaptivity(\n  { viewWidth, viewHeight, sizeX, sizeY, hasPointer, hasHover }: AdaptivityProps,\n  bridge: BridgeAdaptivity,\n) {\n  if (bridge.type === 'adaptive') {\n    const { viewportWidth, viewportHeight } = bridge;\n\n    if (viewportWidth >= BREAKPOINTS.DESKTOP) {\n      viewWidth = ViewWidth.DESKTOP;\n    } else if (viewportWidth >= BREAKPOINTS.TABLET) {\n      viewWidth = ViewWidth.TABLET;\n    } else if (viewportWidth >= BREAKPOINTS.SMALL_TABLET) {\n      viewWidth = ViewWidth.SMALL_TABLET;\n    } else if (viewportWidth >= BREAKPOINTS.MOBILE) {\n      viewWidth = ViewWidth.MOBILE;\n    } else {\n      viewWidth = ViewWidth.SMALL_MOBILE;\n    }\n\n    if (viewportHeight >= BREAKPOINTS.MEDIUM_HEIGHT) {\n      viewHeight = ViewHeight.MEDIUM;\n    } else if (viewportHeight > BREAKPOINTS.MOBILE_LANDSCAPE_HEIGHT) {\n      viewHeight = ViewHeight.SMALL;\n    } else {\n      viewHeight = ViewHeight.EXTRA_SMALL;\n    }\n\n    if (viewWidth <= ViewWidth.MOBILE) {\n      sizeX = SizeType.COMPACT;\n    } else {\n      sizeX = SizeType.REGULAR;\n    }\n\n    if (\n      (viewWidth >= ViewWidth.SMALL_TABLET && _hasPointer) ||\n      viewHeight <= ViewHeight.EXTRA_SMALL\n    ) {\n      sizeY = SizeType.COMPACT;\n    } else {\n      sizeY = SizeType.REGULAR;\n    }\n  } else if (bridge.type === 'force_mobile' || bridge.type === 'force_mobile_compact') {\n    viewWidth = ViewWidth.MOBILE;\n    sizeX = SizeType.COMPACT;\n\n    if (bridge.type === 'force_mobile_compact') {\n      sizeY = SizeType.COMPACT;\n    } else {\n      sizeY = SizeType.REGULAR;\n    }\n  } else {\n    if (sizeX === undefined && viewWidth !== undefined) {\n      if (viewWidth <= ViewWidth.MOBILE) {\n        sizeX = SizeType.COMPACT;\n      } else {\n        sizeX = SizeType.REGULAR;\n      }\n    }\n    if (sizeY === undefined && viewWidth !== undefined && viewHeight !== undefined) {\n      if (\n        (viewWidth >= ViewWidth.SMALL_TABLET && _hasPointer) ||\n        viewHeight <= ViewHeight.EXTRA_SMALL\n      ) {\n        sizeY = SizeType.COMPACT;\n      } else {\n        sizeY = SizeType.REGULAR;\n      }\n    }\n  }\n\n  return {\n    viewWidth,\n    viewHeight,\n    sizeX,\n    sizeY,\n    hasPointer,\n    hasHover,\n  };\n}\n"]},"metadata":{},"sourceType":"module"}