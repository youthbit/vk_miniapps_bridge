{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"children\", \"mode\", \"scroll\", \"portalRoot\", \"disablePortal\", \"className\"];\nimport * as React from 'react';\nimport { useDOM } from '../../lib/dom';\nimport { classNames, noop } from '@vkontakte/vkjs';\nimport { AppRootContext } from './AppRootContext';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\nimport { IconSettingsProvider } from '@vkontakte/icons';\nimport { ElementScrollController, GlobalScrollController } from './ScrollContext';\nimport { useKeyboardInputTracker } from '../../hooks/useKeyboardInputTracker';\nimport { useInsets } from '../../hooks/useInsets';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport { useAppearance } from '../../hooks/useAppearance';\nimport { isRefObject } from '../../lib/isRefObject';\nimport { getSizeXClassName } from '../../helpers/getSizeXClassName';\nvar INSET_CUSTOM_PROPERTY_PREFIX = \"--vkui_internal--safe_area_inset_\"; // Используйте classList, но будьте осторожны\n\n/* eslint-disable no-restricted-properties */\n\n/**\n * @see https://vkcom.github.io/VKUI/#/AppRoot\n */\n\nexport var AppRoot = function AppRoot(_ref) {\n  var children = _ref.children,\n      _ref$mode = _ref.mode,\n      mode = _ref$mode === void 0 ? 'full' : _ref$mode,\n      _ref$scroll = _ref.scroll,\n      scroll = _ref$scroll === void 0 ? 'global' : _ref$scroll,\n      _ref$portalRoot = _ref.portalRoot,\n      portalRootProp = _ref$portalRoot === void 0 ? null : _ref$portalRoot,\n      disablePortal = _ref.disablePortal,\n      className = _ref.className,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var isKeyboardInputActive = useKeyboardInputTracker();\n  var rootRef = React.useRef(null);\n\n  var _React$useState = React.useState(null),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      portalRoot = _React$useState2[0],\n      setPortalRoot = _React$useState2[1];\n\n  var _useDOM = useDOM(),\n      document = _useDOM.document;\n\n  var insets = useInsets();\n  var appearance = useAppearance();\n\n  var _useAdaptivity = useAdaptivity(),\n      hasPointer = _useAdaptivity.hasPointer,\n      sizeX = _useAdaptivity.sizeX; // setup portal\n\n\n  useIsomorphicLayoutEffect(function () {\n    var portal = null;\n\n    if (portalRootProp) {\n      if (isRefObject(portalRootProp)) {\n        portal = portalRootProp.current;\n      } else {\n        portal = portalRootProp;\n      }\n    }\n\n    if (!portal) {\n      portal = document.createElement('div');\n      document.body.appendChild(portal);\n    }\n\n    setPortalRoot(portal);\n    return function () {\n      var _portal, _portal$parentElement;\n\n      (_portal = portal) === null || _portal === void 0 ? void 0 : (_portal$parentElement = _portal.parentElement) === null || _portal$parentElement === void 0 ? void 0 : _portal$parentElement.removeChild(portal);\n    };\n  }, [portalRootProp]); // setup root classes\n\n  useIsomorphicLayoutEffect(function () {\n    var _rootRef$current;\n\n    if (mode !== 'embedded') {\n      return noop;\n    }\n\n    var parent = (_rootRef$current = rootRef.current) === null || _rootRef$current === void 0 ? void 0 : _rootRef$current.parentElement;\n    parent === null || parent === void 0 ? void 0 : parent.classList.add('vkui__root--embedded');\n    return function () {\n      parent === null || parent === void 0 ? void 0 : parent.classList.remove('vkui__root--embedded');\n    };\n  }, []);\n  useIsomorphicLayoutEffect(function () {\n    if (mode === 'full') {\n      document.documentElement.classList.add('vkui');\n      return function () {\n        document.documentElement.classList.remove('vkui');\n      };\n    }\n\n    return undefined;\n  }, [document, mode]); // setup insets\n\n  useIsomorphicLayoutEffect(function () {\n    var _rootRef$current2;\n\n    if (mode === 'partial' || !((_rootRef$current2 = rootRef.current) !== null && _rootRef$current2 !== void 0 && _rootRef$current2.parentElement)) {\n      return noop;\n    }\n\n    var parent = rootRef.current.parentElement;\n    var key;\n\n    for (key in insets) {\n      if (insets.hasOwnProperty(key) && typeof insets[key] === 'number') {\n        var inset = insets[key];\n        parent.style.setProperty(INSET_CUSTOM_PROPERTY_PREFIX + key, \"\".concat(inset, \"px\"));\n        portalRoot && portalRoot.style.setProperty(INSET_CUSTOM_PROPERTY_PREFIX + key, \"\".concat(inset, \"px\"));\n      }\n    }\n\n    return function () {\n      var key;\n\n      for (key in insets) {\n        if (insets.hasOwnProperty(key)) {\n          parent.style.removeProperty(INSET_CUSTOM_PROPERTY_PREFIX + key);\n          portalRoot && portalRoot.style.removeProperty(INSET_CUSTOM_PROPERTY_PREFIX + key);\n        }\n      }\n    };\n  }, [insets, portalRoot]); // adaptivity handler\n\n  useIsomorphicLayoutEffect(function () {\n    var _rootRef$current3;\n\n    if (mode === 'partial') {\n      return noop;\n    }\n\n    var className = getSizeXClassName('vkui', sizeX);\n    var container = mode === 'embedded' ? (_rootRef$current3 = rootRef.current) === null || _rootRef$current3 === void 0 ? void 0 : _rootRef$current3.parentElement : document.body;\n    container === null || container === void 0 ? void 0 : container.classList.add(className);\n    return function () {\n      return container === null || container === void 0 ? void 0 : container.classList.remove(className);\n    };\n  }, [sizeX]);\n  useIsomorphicLayoutEffect(function () {\n    if (mode !== 'full' || appearance === undefined) {\n      return noop;\n    }\n\n    document.documentElement.style.setProperty('color-scheme', appearance);\n    return function () {\n      return document.documentElement.style.removeProperty('color-scheme');\n    };\n  }, [appearance]);\n  var ScrollController = React.useMemo(function () {\n    return scroll === 'contain' ? ElementScrollController : GlobalScrollController;\n  }, [scroll]);\n  var content = /*#__PURE__*/React.createElement(AppRootContext.Provider, {\n    value: {\n      appRoot: rootRef,\n      portalRoot: portalRoot,\n      embedded: mode === 'embedded',\n      keyboardInput: isKeyboardInputActive,\n      mode: mode,\n      disablePortal: disablePortal\n    }\n  }, /*#__PURE__*/React.createElement(ScrollController, {\n    elRef: rootRef\n  }, /*#__PURE__*/React.createElement(IconSettingsProvider, {\n    classPrefix: \"vkui\"\n  }, children)));\n  return mode === 'partial' ? content : /*#__PURE__*/React.createElement(\"div\", _extends({\n    ref: rootRef,\n    className: classNames(\"vkuiAppRoot\", hasPointer === undefined ? \"vkuiAppRoot--pointer-none\" : !hasPointer && \"vkuiAppRoot--pointer-has-not\", className)\n  }, props), content);\n};","map":{"version":3,"mappings":"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","names":["React","useDOM","classNames","noop","AppRootContext","useIsomorphicLayoutEffect","IconSettingsProvider","ElementScrollController","GlobalScrollController","useKeyboardInputTracker","useInsets","useAdaptivity","useAppearance","isRefObject","getSizeXClassName","INSET_CUSTOM_PROPERTY_PREFIX","AppRoot","_ref","children","_ref$mode","mode","_ref$scroll","scroll","_ref$portalRoot","portalRoot","portalRootProp","disablePortal","className","props","isKeyboardInputActive","rootRef","useRef","useState","_React$useState2","setPortalRoot","document","insets","appearance","hasPointer","sizeX","portal","current","createElement","body","appendChild","_portal","parentElement","_portal$parentElement","removeChild","parent","_rootRef$current","classList","add","remove","documentElement","undefined","_rootRef$current2","key","hasOwnProperty","inset","style","setProperty","removeProperty","container","_rootRef$current3","ScrollController","useMemo","content","Provider","value","appRoot","embedded","keyboardInput","elRef","classPrefix","ref"],"sources":["/Users/pitus_anonimous/Desktop/youth_bit_hack/youth_bit_vk/node_modules/@vkontakte/vkui/src/components/AppRoot/AppRoot.tsx"],"sourcesContent":["import * as React from 'react';\nimport { useDOM } from '../../lib/dom';\nimport { classNames, noop } from '@vkontakte/vkjs';\nimport { AppRootContext } from './AppRootContext';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\nimport { IconSettingsProvider } from '@vkontakte/icons';\nimport { ElementScrollController, GlobalScrollController } from './ScrollContext';\nimport { useKeyboardInputTracker } from '../../hooks/useKeyboardInputTracker';\nimport { useInsets } from '../../hooks/useInsets';\nimport { Insets } from '@vkontakte/vk-bridge';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport { useAppearance } from '../../hooks/useAppearance';\nimport { isRefObject } from '../../lib/isRefObject';\nimport { getSizeXClassName } from '../../helpers/getSizeXClassName';\nimport styles from './AppRoot.module.css';\n\nconst INSET_CUSTOM_PROPERTY_PREFIX = `--vkui_internal--safe_area_inset_`;\n\n// Используйте classList, но будьте осторожны\n/* eslint-disable no-restricted-properties */\n\nexport interface AppRootProps extends React.HTMLAttributes<HTMLDivElement> {\n  /** Режим встраивания */\n  mode?: 'partial' | 'embedded' | 'full';\n  window?: Window;\n  scroll?: 'global' | 'contain';\n  /**\n   * Кастомный root-элемент портала\n   */\n  portalRoot?: HTMLElement | React.RefObject<HTMLElement> | null;\n  /** Disable portal for components */\n  disablePortal?: boolean;\n}\n\n/**\n * @see https://vkcom.github.io/VKUI/#/AppRoot\n */\nexport const AppRoot = ({\n  children,\n  mode = 'full',\n  scroll = 'global',\n  portalRoot: portalRootProp = null,\n  disablePortal,\n  className,\n  ...props\n}: AppRootProps) => {\n  const isKeyboardInputActive = useKeyboardInputTracker();\n  const rootRef = React.useRef<HTMLDivElement | null>(null);\n  const [portalRoot, setPortalRoot] = React.useState<HTMLElement | null>(null);\n  const { document } = useDOM();\n  const insets = useInsets();\n  const appearance = useAppearance();\n\n  const { hasPointer, sizeX } = useAdaptivity();\n\n  // setup portal\n  useIsomorphicLayoutEffect(() => {\n    let portal: HTMLElement | null = null;\n    if (portalRootProp) {\n      if (isRefObject(portalRootProp)) {\n        portal = portalRootProp.current;\n      } else {\n        portal = portalRootProp;\n      }\n    }\n    if (!portal) {\n      portal = document!.createElement('div');\n      document!.body.appendChild(portal);\n    }\n    setPortalRoot(portal);\n    return () => {\n      portal?.parentElement?.removeChild(portal);\n    };\n  }, [portalRootProp]);\n\n  // setup root classes\n  useIsomorphicLayoutEffect(() => {\n    if (mode !== 'embedded') {\n      return noop;\n    }\n\n    const parent = rootRef.current?.parentElement;\n    parent?.classList.add('vkui__root--embedded');\n\n    return () => {\n      parent?.classList.remove('vkui__root--embedded');\n    };\n  }, []);\n\n  useIsomorphicLayoutEffect(() => {\n    if (mode === 'full') {\n      document!.documentElement.classList.add('vkui');\n\n      return () => {\n        document!.documentElement.classList.remove('vkui');\n      };\n    }\n\n    return undefined;\n  }, [document, mode]);\n\n  // setup insets\n  useIsomorphicLayoutEffect(() => {\n    if (mode === 'partial' || !rootRef.current?.parentElement) {\n      return noop;\n    }\n\n    const parent = rootRef.current.parentElement;\n\n    let key: keyof Insets;\n    for (key in insets) {\n      if (insets.hasOwnProperty(key) && typeof insets[key] === 'number') {\n        const inset = insets[key];\n        parent.style.setProperty(INSET_CUSTOM_PROPERTY_PREFIX + key, `${inset}px`);\n        portalRoot &&\n          portalRoot.style.setProperty(INSET_CUSTOM_PROPERTY_PREFIX + key, `${inset}px`);\n      }\n    }\n\n    return () => {\n      let key: keyof Insets;\n      for (key in insets) {\n        if (insets.hasOwnProperty(key)) {\n          parent.style.removeProperty(INSET_CUSTOM_PROPERTY_PREFIX + key);\n          portalRoot && portalRoot.style.removeProperty(INSET_CUSTOM_PROPERTY_PREFIX + key);\n        }\n      }\n    };\n  }, [insets, portalRoot]);\n\n  // adaptivity handler\n  useIsomorphicLayoutEffect(() => {\n    if (mode === 'partial') {\n      return noop;\n    }\n    const className = getSizeXClassName('vkui', sizeX);\n    const container = mode === 'embedded' ? rootRef.current?.parentElement : document!.body;\n    container?.classList.add(className);\n    return () => container?.classList.remove(className);\n  }, [sizeX]);\n\n  useIsomorphicLayoutEffect(() => {\n    if (mode !== 'full' || appearance === undefined) {\n      return noop;\n    }\n    document!.documentElement.style.setProperty('color-scheme', appearance);\n\n    return () => document!.documentElement.style.removeProperty('color-scheme');\n  }, [appearance]);\n\n  const ScrollController = React.useMemo(\n    () => (scroll === 'contain' ? ElementScrollController : GlobalScrollController),\n    [scroll],\n  );\n\n  const content = (\n    <AppRootContext.Provider\n      value={{\n        appRoot: rootRef,\n        portalRoot,\n        embedded: mode === 'embedded',\n        keyboardInput: isKeyboardInputActive,\n        mode,\n        disablePortal,\n      }}\n    >\n      <ScrollController elRef={rootRef}>\n        <IconSettingsProvider classPrefix=\"vkui\">{children}</IconSettingsProvider>\n      </ScrollController>\n    </AppRootContext.Provider>\n  );\n\n  return mode === 'partial' ? (\n    content\n  ) : (\n    <div\n      ref={rootRef}\n      className={classNames(\n        styles['AppRoot'],\n        hasPointer === undefined\n          ? styles['AppRoot--pointer-none']\n          : !hasPointer && styles['AppRoot--pointer-has-not'],\n        className,\n      )}\n      {...props}\n    >\n      {content}\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}