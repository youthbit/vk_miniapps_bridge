{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"alt\", \"crossOrigin\", \"decoding\", \"loading\", \"referrerPolicy\", \"sizes\", \"src\", \"srcSet\", \"useMap\", \"getRef\", \"size\", \"width\", \"height\", \"style\", \"className\", \"getRootRef\", \"withBorder\", \"fallbackIcon\", \"children\", \"aria-label\", \"onClick\", \"onLoad\", \"onError\"];\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { ImageBaseBadge } from './ImageBaseBadge/ImageBaseBadge';\nimport { ImageBaseOverlay } from './ImageBaseOverlay/ImageBaseOverlay';\nimport { ImageBaseContext } from './context';\nimport { validateSize, validateFallbackIcon } from './validators';\nexport { getBadgeIconSizeByImageBaseSize, getFallbackIconSizeByImageBaseSize, getOverlayIconSizeByImageBaseSize } from './helpers';\nexport { ImageBaseContext };\n/**\n * @see https://vkcom.github.io/VKUI/#/ImageBase\n */\n\nexport var ImageBase = function ImageBase(_ref) {\n  var alt = _ref.alt,\n      crossOrigin = _ref.crossOrigin,\n      decoding = _ref.decoding,\n      loading = _ref.loading,\n      referrerPolicy = _ref.referrerPolicy,\n      sizes = _ref.sizes,\n      src = _ref.src,\n      srcSet = _ref.srcSet,\n      useMap = _ref.useMap,\n      getRef = _ref.getRef,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      width = _ref.width,\n      height = _ref.height,\n      style = _ref.style,\n      className = _ref.className,\n      getRootRef = _ref.getRootRef,\n      _ref$withBorder = _ref.withBorder,\n      withBorder = _ref$withBorder === void 0 ? true : _ref$withBorder,\n      fallbackIconProp = _ref['fallbackIcon'],\n      children = _ref.children,\n      ariaLabel = _ref['aria-label'],\n      onClick = _ref.onClick,\n      onLoad = _ref.onLoad,\n      onError = _ref.onError,\n      restProps = _objectWithoutProperties(_ref, _excluded);\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      loaded = _React$useState2[0],\n      setLoaded = _React$useState2[1];\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      failed = _React$useState4[0],\n      setFailed = _React$useState4[1];\n\n  var hasSrc = src || srcSet;\n  var needShowFallbackIcon = (failed || !hasSrc) && /*#__PURE__*/React.isValidElement(fallbackIconProp);\n  var fallbackIcon = needShowFallbackIcon ? fallbackIconProp : null;\n\n  if (process.env.NODE_ENV === 'development') {\n    validateSize(size);\n\n    if (fallbackIcon) {\n      validateFallbackIcon(size, {\n        name: 'fallbackIcon',\n        value: fallbackIcon\n      });\n    }\n  }\n\n  var handleImageLoad = function handleImageLoad(event) {\n    setLoaded(true);\n    setFailed(false);\n    onLoad === null || onLoad === void 0 ? void 0 : onLoad(event);\n  };\n\n  var handleImageError = function handleImageError(event) {\n    setLoaded(false);\n    setFailed(true);\n    onError === null || onError === void 0 ? void 0 : onError(event);\n  };\n\n  return /*#__PURE__*/React.createElement(ImageBaseContext.Provider, {\n    value: {\n      size: size\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", _extends({}, restProps, {\n    ref: getRootRef,\n    style: _objectSpread(_objectSpread({}, style), {}, {\n      width: size,\n      height: size\n    }),\n    className: classNames(className, \"vkuiImageBase\", styles[\"ImageBase--size-\".concat(size)], withBorder && \"vkuiImageBase--withBorder\", loaded && \"vkuiImageBase--loaded\"),\n    role: hasSrc ? 'img' : 'presentation',\n    \"aria-label\": ariaLabel,\n    onClick: onClick\n  }), hasSrc && /*#__PURE__*/React.createElement(\"img\", {\n    ref: getRef,\n    alt: alt,\n    className: \"vkuiImageBase__img\",\n    crossOrigin: crossOrigin,\n    decoding: decoding,\n    loading: loading,\n    referrerPolicy: referrerPolicy,\n    sizes: sizes,\n    src: src,\n    srcSet: srcSet,\n    useMap: useMap,\n    width: width,\n    height: height,\n    onLoad: handleImageLoad,\n    onError: handleImageError\n  }), fallbackIcon && /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(\"vkuiImageBase__fallback\")\n  }, fallbackIcon), children));\n};\nImageBase.Badge = ImageBaseBadge;\nImageBase.Overlay = ImageBaseOverlay;\nvar styles = {\n  \"ImageBase--size-16\": \"vkuiImageBase--size-16\",\n  \"ImageBase--size-20\": \"vkuiImageBase--size-20\",\n  \"ImageBase--size-24\": \"vkuiImageBase--size-24\",\n  \"ImageBase--size-28\": \"vkuiImageBase--size-28\",\n  \"ImageBase--size-32\": \"vkuiImageBase--size-32\",\n  \"ImageBase--size-36\": \"vkuiImageBase--size-36\",\n  \"ImageBase--size-40\": \"vkuiImageBase--size-40\",\n  \"ImageBase--size-44\": \"vkuiImageBase--size-44\",\n  \"ImageBase--size-48\": \"vkuiImageBase--size-48\",\n  \"ImageBase--size-56\": \"vkuiImageBase--size-56\",\n  \"ImageBase--size-64\": \"vkuiImageBase--size-64\",\n  \"ImageBase--size-72\": \"vkuiImageBase--size-72\",\n  \"ImageBase--size-80\": \"vkuiImageBase--size-80\",\n  \"ImageBase--size-88\": \"vkuiImageBase--size-88\",\n  \"ImageBase--size-96\": \"vkuiImageBase--size-96\"\n};","map":{"version":3,"mappings":"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","names":["React","classNames","ImageBaseBadge","ImageBaseOverlay","ImageBaseContext","validateSize","validateFallbackIcon","getBadgeIconSizeByImageBaseSize","getFallbackIconSizeByImageBaseSize","getOverlayIconSizeByImageBaseSize","ImageBase","_ref","alt","crossOrigin","decoding","loading","referrerPolicy","sizes","src","srcSet","useMap","getRef","_ref$size","size","width","height","style","className","getRootRef","_ref$withBorder","withBorder","fallbackIconProp","children","ariaLabel","onClick","onLoad","onError","restProps","useState","_React$useState2","loaded","setLoaded","_React$useState4","failed","setFailed","hasSrc","needShowFallbackIcon","isValidElement","fallbackIcon","process","env","NODE_ENV","name","value","handleImageLoad","event","handleImageError","Provider","ref","styles","role","Badge","Overlay"],"sources":["/Users/pitus_anonimous/Desktop/youth_bit_hack/youth_bit_vk/node_modules/@vkontakte/vkui/src/components/ImageBase/ImageBase.tsx"],"sourcesContent":["import * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport type { HasRef, HasRootRef } from '../../types';\nimport { type ImageBaseBadgeProps, ImageBaseBadge } from './ImageBaseBadge/ImageBaseBadge';\nimport { type ImageBaseOverlayProps, ImageBaseOverlay } from './ImageBaseOverlay/ImageBaseOverlay';\nimport type { ImageBaseExpectedIconProps, ImageBaseSize, ImageBaseContextProps } from './types';\nimport { ImageBaseContext } from './context';\nimport { validateSize, validateFallbackIcon } from './validators';\nimport styles from './ImageBase.module.css';\n\nexport type {\n  ImageBaseSize,\n  ImageBaseExpectedIconProps,\n  ImageBaseBadgeProps,\n  ImageBaseOverlayProps,\n  ImageBaseContextProps,\n};\n\nexport {\n  getBadgeIconSizeByImageBaseSize,\n  getFallbackIconSizeByImageBaseSize,\n  getOverlayIconSizeByImageBaseSize,\n} from './helpers';\n\nexport { ImageBaseContext };\n\nexport interface ImageBaseProps\n  extends React.ImgHTMLAttributes<HTMLElement>,\n    HasRootRef<HTMLDivElement>,\n    HasRef<HTMLImageElement> {\n  /**\n   * Задаёт размер картинки.\n   *\n   * Используйте размеры заданные дизайн-системой `16 | 20 | 24 | 28 | 32 | 36 | 40 | 44 | 48 | 56 | 64 | 72 | 80 | 88 | 96`.\n   *\n   * > ⚠️ Использование кастомного размера – это пограничный кейс.\n   */\n  size?: ImageBaseSize | number;\n  /**\n   * Включает или отключает обводку.\n   */\n  withBorder?: boolean;\n  /**\n   * Фолбек на случай, если картинка не прогрузилась.\n   *\n   * > 📝 Нужный для `<ImageBase size={...} />` размер можно узнать из функции `getFallbackIconSizeByImageBaseSize()`.\n   *\n   * > Предпочтительней использовать иконки из `@vkontakte/icons`.\n   *\n   * > 📊️ Если вы хотите передать кастомную иконку, то следует именовать её по шаблону `Icon<size><name>`. Или же\n   * > чтобы в неё был передан параметр `width`. Тогда мы сможем выводить в консоль подсказку правильного ли размера вы\n   * > использовали иконку.\n   *\n   * > ⚠️ Может перекрывать `children`.\n   */\n  fallbackIcon?: React.ReactElement<ImageBaseExpectedIconProps>;\n}\n\n/**\n * @see https://vkcom.github.io/VKUI/#/ImageBase\n */\nexport const ImageBase = ({\n  alt,\n  crossOrigin,\n  decoding,\n  loading,\n  referrerPolicy,\n  sizes,\n  src,\n  srcSet,\n  useMap,\n  getRef,\n  size = 24,\n  width,\n  height,\n  style,\n  className,\n  getRootRef,\n  withBorder = true,\n  'fallbackIcon': fallbackIconProp,\n  children,\n  'aria-label': ariaLabel,\n  onClick,\n  onLoad,\n  onError,\n  ...restProps\n}: ImageBaseProps) => {\n  const [loaded, setLoaded] = React.useState(false);\n  const [failed, setFailed] = React.useState(false);\n\n  const hasSrc = src || srcSet;\n  const needShowFallbackIcon = (failed || !hasSrc) && React.isValidElement(fallbackIconProp);\n\n  const fallbackIcon = needShowFallbackIcon ? fallbackIconProp : null;\n\n  if (process.env.NODE_ENV === 'development') {\n    validateSize(size);\n    if (fallbackIcon) {\n      validateFallbackIcon(size, { name: 'fallbackIcon', value: fallbackIcon });\n    }\n  }\n\n  const handleImageLoad = (event: React.SyntheticEvent<HTMLImageElement>) => {\n    setLoaded(true);\n    setFailed(false);\n    onLoad?.(event);\n  };\n\n  const handleImageError = (event: React.SyntheticEvent<HTMLImageElement>) => {\n    setLoaded(false);\n    setFailed(true);\n    onError?.(event);\n  };\n\n  return (\n    <ImageBaseContext.Provider value={{ size }}>\n      <div\n        {...restProps}\n        ref={getRootRef}\n        style={{ ...style, width: size, height: size }}\n        className={classNames(\n          className,\n          styles['ImageBase'],\n          styles[`ImageBase--size-${size as ImageBaseSize}`],\n          withBorder && styles['ImageBase--withBorder'],\n          loaded && styles['ImageBase--loaded'],\n        )}\n        role={hasSrc ? 'img' : 'presentation'}\n        aria-label={ariaLabel}\n        onClick={onClick}\n      >\n        {hasSrc && (\n          <img\n            ref={getRef}\n            alt={alt}\n            className={styles['ImageBase__img']}\n            crossOrigin={crossOrigin}\n            decoding={decoding}\n            loading={loading}\n            referrerPolicy={referrerPolicy}\n            sizes={sizes}\n            src={src}\n            srcSet={srcSet}\n            useMap={useMap}\n            width={width}\n            height={height}\n            onLoad={handleImageLoad}\n            onError={handleImageError}\n          />\n        )}\n        {fallbackIcon && (\n          <div className={classNames(styles['ImageBase__fallback'])}>{fallbackIcon}</div>\n        )}\n        {children}\n      </div>\n    </ImageBaseContext.Provider>\n  );\n};\n\nImageBase.Badge = ImageBaseBadge;\n\nImageBase.Overlay = ImageBaseOverlay;\n"]},"metadata":{},"sourceType":"module"}