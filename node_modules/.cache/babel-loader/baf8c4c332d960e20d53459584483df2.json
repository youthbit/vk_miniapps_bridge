{"ast":null,"code":"import _typeof from \"@babel/runtime/helpers/typeof\";\n/* eslint-disable @typescript-eslint/quotes */\n\nimport { Replacer } from '../lib/replacer';\nimport { fromCodePoint, getCodePointAt, numericUnicodeMap } from '../lib/codepoints';\nimport { buildFullNamedEntities, fullNamedEntities } from './entity';\nvar escapeReplacer = /*#__PURE__*/new Replacer({\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  \"'\": '&#39;',\n  '\"': '&quot;'\n});\nvar unescapeReplacer = /*#__PURE__*/new Replacer({\n  '&amp;': '&',\n  '&#38;': '&',\n  '&lt;': '<',\n  '&#60;': '<',\n  '&gt;': '>',\n  '&#62;': '>',\n  '&apos;': \"'\",\n  '&#39;': \"'\",\n  '&quot;': '\"',\n  '&#34;': '\"'\n});\nvar namedEntities = {\n  'amp;': '&',\n  'lt;': '<',\n  'gt;': '>',\n  'quot;': '\"',\n  'apos;': \"'\"\n};\n/**\n * Safely escape HTML entities such as `&`, `<`, `>`, `\"`, and `'`\n * @param {string} input\n */\n\nexport function escape(input) {\n  return escapeReplacer.replace(input);\n}\n/**\n * Unescape HTML entities such as `&`, `<`, `>`, `\"`, and `'`\n * @param {string} input\n */\n\nexport function unescape(input) {\n  return unescapeReplacer.replace(input);\n}\nexport var outOfBoundsChar = /*#__PURE__*/String.fromCharCode(65533);\nvar ENCODE_REGEX = /(?:[<>'\"&\\x01-\\x08\\x11-\\x15\\x17-\\x1F\\x7f-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])/g;\nexport function encodeHTMLEntities(input) {\n  if (input == null) {\n    return '';\n  }\n\n  return input.replace(ENCODE_REGEX, function (entity) {\n    var code = entity.length > 1 ? getCodePointAt(entity, 0) : entity.charCodeAt(0);\n    return '&#' + String(code) + ';';\n  });\n}\nvar DECODE_REGEX = /&(?:#\\d+|#[xX][\\da-fA-F]+|[0-9a-zA-Z]+);?/g;\n\nfunction decodeString(input, entities) {\n  if (typeof input !== 'string' || !input) {\n    return '';\n  }\n\n  return input.replace(DECODE_REGEX, function (entity) {\n    if (entity[1] === '#') {\n      // We need to have at least \"&#.\".\n      if (entity.length <= 3) {\n        return entity;\n      }\n\n      var secondChar = entity.charAt(2);\n      var code = secondChar === 'x' || secondChar === 'X' ? parseInt(entity.substr(3).toLowerCase(), 16) : parseInt(entity.substr(2));\n\n      if (code >= 0x10ffff) {\n        return outOfBoundsChar;\n      }\n\n      if (code > 65535) {\n        return fromCodePoint(code);\n      }\n\n      return String.fromCharCode(numericUnicodeMap[code] || code);\n    }\n\n    return entities[entity.slice(1)] || entity;\n  });\n}\n\nexport function decodeHTMLEntitiesDeep(input) {\n  if (typeof input === 'string') {\n    return decodeHTMLEntities(input);\n  }\n\n  if (_typeof(input) === 'object') {\n    var correctType = Object.prototype.toString.apply(input);\n\n    if (correctType === '[object Array]') {\n      return input.map(function (item) {\n        return decodeHTMLEntitiesDeep(item);\n      });\n    }\n\n    if (correctType === '[object Object]') {\n      var response = {};\n      Object.keys(input).forEach(function (item) {\n        response[decodeHTMLEntities(item)] = decodeHTMLEntitiesDeep(input[item]);\n      });\n      return response;\n    }\n  }\n\n  return input;\n}\n/**\n * `decodeHTMLEntities` декодирует зарезервированные HTML-сущности.\n *\n * Если нужна возможность декодировать все сущности, используйте\n * {@link decodeHTMLFullEntities}\n *\n * @param input текст который необходимо декодировать\n * @param entities кастомный словарь сущностей `{'lt;': '<'}`\n */\n\nexport function decodeHTMLEntities(input) {\n  var entities = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : namedEntities;\n  return decodeString(input, entities);\n}\n/**\n * `decodeHTMLFullEntities` декодирует все HTML-сущности.\n *\n * Если вам нужно декодировать не все сущности, используйте\n * {@link decodeHTMLEntities} и кастомный словарь.\n *\n * @param input текст который необходимо декодировать\n */\n\nexport function decodeHTMLFullEntities(input) {\n  buildFullNamedEntities();\n  return decodeString(input, fullNamedEntities);\n}","map":{"version":3,"mappings":"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","names":["Replacer","fromCodePoint","getCodePointAt","numericUnicodeMap","buildFullNamedEntities","fullNamedEntities","escapeReplacer","unescapeReplacer","namedEntities","escape","input","replace","unescape","outOfBoundsChar","String","fromCharCode","ENCODE_REGEX","encodeHTMLEntities","entity","code","length","charCodeAt","DECODE_REGEX","decodeString","entities","secondChar","charAt","parseInt","substr","toLowerCase","slice","decodeHTMLEntitiesDeep","decodeHTMLEntities","_typeof","correctType","Object","prototype","toString","apply","map","item","response","keys","forEach","decodeHTMLFullEntities"],"sources":["/Users/pitus_anonimous/Desktop/youth_bit_hack/youth_bit_vk/node_modules/@vkontakte/vkjs/src/html/escape.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/quotes */\nimport { Replacer } from '../lib/replacer';\nimport { fromCodePoint, getCodePointAt, numericUnicodeMap } from '../lib/codepoints';\nimport { Dictionary } from '../types';\nimport { buildFullNamedEntities, fullNamedEntities } from './entity';\n\nconst escapeReplacer = /*#__PURE__*/ new Replacer({\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  \"'\": '&#39;',\n  '\"': '&quot;',\n});\n\nconst unescapeReplacer = /*#__PURE__*/ new Replacer({\n  '&amp;': '&',\n  '&#38;': '&',\n  '&lt;': '<',\n  '&#60;': '<',\n  '&gt;': '>',\n  '&#62;': '>',\n  '&apos;': \"'\",\n  '&#39;': \"'\",\n  '&quot;': '\"',\n  '&#34;': '\"',\n});\n\nconst namedEntities: Record<string, string> = {\n  'amp;': '&',\n  'lt;': '<',\n  'gt;': '>',\n  'quot;': '\"',\n  'apos;': `'`,\n};\n\n/**\n * Safely escape HTML entities such as `&`, `<`, `>`, `\"`, and `'`\n * @param {string} input\n */\nexport function escape(input: string): string {\n  return escapeReplacer.replace(input);\n}\n\n/**\n * Unescape HTML entities such as `&`, `<`, `>`, `\"`, and `'`\n * @param {string} input\n */\nexport function unescape(input: string): string {\n  return unescapeReplacer.replace(input);\n}\n\nexport const outOfBoundsChar = /*#__PURE__*/ String.fromCharCode(65533);\n\nconst ENCODE_REGEX =\n  /(?:[<>'\"&\\x01-\\x08\\x11-\\x15\\x17-\\x1F\\x7f-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])/g;\n\nexport function encodeHTMLEntities(input: string): string {\n  if (input == null) {\n    return '';\n  }\n\n  return input.replace(ENCODE_REGEX, (entity) => {\n    const code = entity.length > 1 ? getCodePointAt(entity, 0) : entity.charCodeAt(0);\n    return '&#' + String(code) + ';';\n  });\n}\n\nconst DECODE_REGEX = /&(?:#\\d+|#[xX][\\da-fA-F]+|[0-9a-zA-Z]+);?/g;\n\nfunction decodeString(input: string, entities: Record<string, string>): string {\n  if (typeof input !== 'string' || !input) {\n    return '';\n  }\n\n  return input.replace(DECODE_REGEX, (entity) => {\n    if (entity[1] === '#') {\n      // We need to have at least \"&#.\".\n      if (entity.length <= 3) {\n        return entity;\n      }\n\n      const secondChar = entity.charAt(2);\n      const code =\n        secondChar === 'x' || secondChar === 'X'\n          ? parseInt(entity.substr(3).toLowerCase(), 16)\n          : parseInt(entity.substr(2));\n\n      if (code >= 0x10ffff) {\n        return outOfBoundsChar;\n      }\n\n      if (code > 65535) {\n        return fromCodePoint(code);\n      }\n\n      return String.fromCharCode(numericUnicodeMap[code] || code);\n    }\n\n    return entities[entity.slice(1)] || entity;\n  });\n}\n\nexport function decodeHTMLEntitiesDeep<T>(input: T): T {\n  if (typeof input === 'string') {\n    return decodeHTMLEntities(input) as unknown as T;\n  }\n\n  if (typeof input === 'object') {\n    const correctType = Object.prototype.toString.apply(input);\n\n    if (correctType === '[object Array]') {\n      return (input as unknown[]).map((item) => {\n        return decodeHTMLEntitiesDeep(item);\n      }) as T;\n    }\n\n    if (correctType === '[object Object]') {\n      const response: Dictionary<unknown> = {};\n      Object.keys(input as Dictionary<unknown>).forEach((item) => {\n        response[decodeHTMLEntities(item)] = decodeHTMLEntitiesDeep(\n          (input as Dictionary<unknown>)[item],\n        );\n      });\n\n      return response as unknown as T;\n    }\n  }\n\n  return input;\n}\n\n/**\n * `decodeHTMLEntities` декодирует зарезервированные HTML-сущности.\n *\n * Если нужна возможность декодировать все сущности, используйте\n * {@link decodeHTMLFullEntities}\n *\n * @param input текст который необходимо декодировать\n * @param entities кастомный словарь сущностей `{'lt;': '<'}`\n */\nexport function decodeHTMLEntities(input: string, entities = namedEntities): string {\n  return decodeString(input, entities);\n}\n\n/**\n * `decodeHTMLFullEntities` декодирует все HTML-сущности.\n *\n * Если вам нужно декодировать не все сущности, используйте\n * {@link decodeHTMLEntities} и кастомный словарь.\n *\n * @param input текст который необходимо декодировать\n */\nexport function decodeHTMLFullEntities(input: string): string {\n  buildFullNamedEntities();\n\n  return decodeString(input, fullNamedEntities);\n}\n"]},"metadata":{},"sourceType":"module"}