{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"getRef\", \"content\", \"children\", \"onShownChange\", \"shown\", \"showDelay\", \"hideDelay\"];\nimport * as React from 'react';\nimport { Popper } from '../Popper/Popper';\nimport { useEventListener } from '../../hooks/useEventListener';\nimport { useTimeout } from '../../hooks/useTimeout';\nimport { usePatchChildrenRef } from '../../hooks/usePatchChildrenRef';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\nexport var HoverPopper = function HoverPopper(_ref) {\n  var getRef = _ref.getRef,\n      content = _ref.content,\n      children = _ref.children,\n      onShownChange = _ref.onShownChange,\n      _shown = _ref.shown,\n      _ref$showDelay = _ref.showDelay,\n      showDelay = _ref$showDelay === void 0 ? 150 : _ref$showDelay,\n      _ref$hideDelay = _ref.hideDelay,\n      hideDelay = _ref$hideDelay === void 0 ? 150 : _ref$hideDelay,\n      restProps = _objectWithoutProperties(_ref, _excluded);\n\n  var _React$useState = React.useState(_shown || false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      computedShown = _React$useState2[0],\n      setComputedShown = _React$useState2[1];\n\n  var shown = typeof _shown === 'boolean' ? _shown : computedShown;\n\n  var setShown = function setShown(value) {\n    if (typeof _shown !== 'boolean') {\n      setComputedShown(value);\n    }\n\n    typeof onShownChange === 'function' && onShownChange(value);\n  };\n\n  var showTimeout = useTimeout(function () {\n    setShown(true);\n  }, showDelay);\n  var hideTimeout = useTimeout(function () {\n    setShown(false);\n  }, hideDelay);\n\n  var _usePatchChildrenRef = usePatchChildrenRef(children),\n      _usePatchChildrenRef2 = _slicedToArray(_usePatchChildrenRef, 2),\n      childRef = _usePatchChildrenRef2[0],\n      child = _usePatchChildrenRef2[1];\n\n  var onTargetEnter = function onTargetEnter() {\n    hideTimeout.clear();\n    showTimeout.set();\n  };\n\n  var onTargetLeave = function onTargetLeave() {\n    showTimeout.clear();\n    hideTimeout.set();\n  };\n\n  var targetEnterListener = useEventListener('pointerenter', onTargetEnter);\n  var targetLeaveListener = useEventListener('pointerleave', onTargetLeave);\n  useIsomorphicLayoutEffect(function () {\n    if (childRef.current) {\n      targetEnterListener.add(childRef.current);\n      targetLeaveListener.add(childRef.current);\n    }\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, child, shown && /*#__PURE__*/React.createElement(Popper, _extends({}, restProps, {\n    onMouseOver: hideTimeout.clear,\n    onMouseOut: onTargetLeave,\n    getRef: getRef,\n    targetRef: childRef\n  }), content));\n};","map":{"version":3,"mappings":"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","names":["React","Popper","useEventListener","useTimeout","usePatchChildrenRef","useIsomorphicLayoutEffect","HoverPopper","_ref","getRef","content","children","onShownChange","_shown","shown","_ref$showDelay","showDelay","_ref$hideDelay","hideDelay","restProps","useState","_React$useState2","computedShown","setComputedShown","setShown","value","showTimeout","hideTimeout","_usePatchChildrenRef2","childRef","child","onTargetEnter","clear","set","onTargetLeave","targetEnterListener","targetLeaveListener","current","add","Fragment","_extends","onMouseOver","onMouseOut","targetRef"],"sources":["/Users/pitus_anonimous/Desktop/youth_bit_hack/youth_bit_vk/node_modules/@vkontakte/vkui/src/components/HoverPopper/HoverPopper.tsx"],"sourcesContent":["import * as React from 'react';\nimport { Popper, PopperCommonProps } from '../Popper/Popper';\nimport { useEventListener } from '../../hooks/useEventListener';\nimport { useTimeout } from '../../hooks/useTimeout';\nimport { usePatchChildrenRef } from '../../hooks/usePatchChildrenRef';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\n\nexport interface HoverPopperProps extends PopperCommonProps {\n  /**\n   * Содержимое тултипа\n   */\n  content?: React.ReactNode;\n  /**\n   * Если передан, то тултип будет показан/скрыт в зависимости от значения свойства\n   */\n  shown?: boolean;\n  /**\n   * Вызывается при каждом изменении видимости тултипа\n   */\n  onShownChange?: (shown: boolean) => void;\n  /**\n   * Количество миллисекунд, после которых произойдет показ дропдауна\n   */\n  showDelay?: number;\n  /**\n   * Количество миллисекунд, после которых произойдет скрытие дропдауна\n   */\n  hideDelay?: number;\n  /**\n   * Либо jsx-элемент (div, button, etc.), либо компонент со свойством `getRootRef`, которое применяется к корневому элементу компонента\n   */\n  children?: React.ReactElement;\n}\n\nexport const HoverPopper = ({\n  getRef,\n  content,\n  children,\n  onShownChange,\n  shown: _shown,\n  showDelay = 150,\n  hideDelay = 150,\n  ...restProps\n}: HoverPopperProps) => {\n  const [computedShown, setComputedShown] = React.useState(_shown || false);\n\n  const shown = typeof _shown === 'boolean' ? _shown : computedShown;\n\n  const setShown = (value: boolean) => {\n    if (typeof _shown !== 'boolean') {\n      setComputedShown(value);\n    }\n    typeof onShownChange === 'function' && onShownChange(value);\n  };\n\n  const showTimeout = useTimeout(() => {\n    setShown(true);\n  }, showDelay);\n\n  const hideTimeout = useTimeout(() => {\n    setShown(false);\n  }, hideDelay);\n\n  const [childRef, child] = usePatchChildrenRef(children);\n\n  const onTargetEnter = () => {\n    hideTimeout.clear();\n    showTimeout.set();\n  };\n\n  const onTargetLeave = () => {\n    showTimeout.clear();\n    hideTimeout.set();\n  };\n\n  const targetEnterListener = useEventListener('pointerenter', onTargetEnter);\n  const targetLeaveListener = useEventListener('pointerleave', onTargetLeave);\n\n  useIsomorphicLayoutEffect(() => {\n    if (childRef.current) {\n      targetEnterListener.add(childRef.current);\n      targetLeaveListener.add(childRef.current);\n    }\n  }, []);\n\n  return (\n    <React.Fragment>\n      {child}\n      {shown && (\n        <Popper\n          {...restProps}\n          onMouseOver={hideTimeout.clear}\n          onMouseOut={onTargetLeave}\n          getRef={getRef}\n          targetRef={childRef}\n        >\n          {content}\n        </Popper>\n      )}\n    </React.Fragment>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}