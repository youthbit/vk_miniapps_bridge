{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"alignY\", \"alignX\", \"closing\", \"hasMask\", \"fixed\", \"children\", \"onClick\", \"className\"];\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { Platform } from '../../lib/platform';\nimport { useTimeout } from '../../hooks/useTimeout';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { useGlobalEventListener } from '../../hooks/useGlobalEventListener';\nimport { useDOM } from '../../lib/dom';\n/**\n * @see https://vkcom.github.io/VKUI/#/PopoutWrapper\n */\n\nexport var PopoutWrapper = function PopoutWrapper(_ref) {\n  var _ref$alignY = _ref.alignY,\n      alignY = _ref$alignY === void 0 ? 'center' : _ref$alignY,\n      _ref$alignX = _ref.alignX,\n      alignX = _ref$alignX === void 0 ? 'center' : _ref$alignX,\n      _ref$closing = _ref.closing,\n      closing = _ref$closing === void 0 ? false : _ref$closing,\n      _ref$hasMask = _ref.hasMask,\n      hasMask = _ref$hasMask === void 0 ? true : _ref$hasMask,\n      _ref$fixed = _ref.fixed,\n      fixed = _ref$fixed === void 0 ? true : _ref$fixed,\n      children = _ref.children,\n      onClick = _ref.onClick,\n      className = _ref.className,\n      restProps = _objectWithoutProperties(_ref, _excluded);\n\n  var platform = usePlatform();\n\n  var _React$useState = React.useState(!hasMask),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      opened = _React$useState2[0],\n      setOpened = _React$useState2[1];\n\n  var elRef = React.useRef(null);\n\n  var onFadeInEnd = function onFadeInEnd(e) {\n    if (!e || e.animationName === 'vkui-animation-full-fade-in') {\n      setOpened(true);\n    }\n  };\n\n  var animationFinishFallback = useTimeout(onFadeInEnd, platform === Platform.IOS ? 300 : 200);\n  React.useEffect(function () {\n    !opened && animationFinishFallback.set();\n  }, [animationFinishFallback, opened]);\n\n  var _useDOM = useDOM(),\n      window = _useDOM.window;\n\n  useGlobalEventListener(window, 'touchmove', function (e) {\n    return e.preventDefault();\n  }, {\n    passive: false\n  });\n  return /*#__PURE__*/React.createElement(\"div\", _extends({}, restProps, {\n    className: classNames(\"vkuiPopoutWrapper\", styles[\"PopoutWrapper--alignY-\".concat(alignY)], styles[\"PopoutWrapper--alignX-\".concat(alignX)], closing && \"vkuiPopoutWrapper--closing\", opened && \"vkuiPopoutWrapper--opened\", fixed && \"vkuiPopoutWrapper--fixed\", hasMask && \"vkuiPopoutWrapper--masked\", className),\n    onAnimationEnd: opened ? undefined : onFadeInEnd,\n    ref: elRef\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vkuiPopoutWrapper__container\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vkuiPopoutWrapper__overlay\",\n    onClick: onClick\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vkuiPopoutWrapper__content\"\n  }, children)));\n};\nvar styles = {\n  \"PopoutWrapper--alignY-center\": \"vkuiPopoutWrapper--alignY-center\",\n  \"PopoutWrapper--alignY-bottom\": \"vkuiPopoutWrapper--alignY-bottom\",\n  \"PopoutWrapper--alignY-top\": \"vkuiPopoutWrapper--alignY-top\",\n  \"PopoutWrapper--alignX-center\": \"vkuiPopoutWrapper--alignX-center\",\n  \"PopoutWrapper--alignX-left\": \"vkuiPopoutWrapper--alignX-left\",\n  \"PopoutWrapper--alignX-right\": \"vkuiPopoutWrapper--alignX-right\"\n};","map":{"version":3,"mappings":";;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,UAAT,QAA2B,iBAA3B;AACA,SAASC,QAAT,QAAyB,oBAAzB;AACA,SAASC,UAAT,QAA2B,wBAA3B;AACA,SAASC,WAAT,QAA4B,yBAA5B;AACA,SAASC,sBAAT,QAAuC,oCAAvC;AACA,SAASC,MAAT,QAAuB,eAAvB;AAWA;AACA;AACA;;AACA,OAAO,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAAHC,IAAG,EAUH;EAAA,uBATxBC,MASwB;EAAA,IATxBA,MAAM,4BAAG,QAAH,GAAWC,WASO;EAAA,IATPC,mBACjBC,MAQwB;EAAA,IARxBA,MAAM,4BAAG,QAAH,GAAWD,WAQO;EAAA,IARPE,oBACjBC,OAOwB;EAAA,IAPxBA,OAAO,6BAAG,KAAH,GAAQD,YAOS;EAAA,IAPTE,oBACfC,OAMwB;EAAA,IANxBA,OAAO,6BAAG,IAAH,GAAOD,YAMU;EAAA,IANVE,kBACdC,KAKwB;EAAA,IALxBA,KAAK,2BAAG,IAAH,GAAOD,UAKY;EAAA,IAJxBE,QAAQ,QAARA,QAIwB;EAAA,IAHxBC,OAAO,QAAPA,OAGwB;EAAA,IAFxBC,SAAS,QAATA,SAEwB;EAAA,IADrBC,SAAS,4CACY;;EACxB,IAAMC,QAAQ,GAAGnB,WAAW,EAA5B;;EACA,sBAA4BJ,KAAK,CAACwB,QAANxB,CAAe,CAACgB,OAAhBhB,CAA5B;EAAA,IAAoDyB,qDAApD;EAAA,IAAOC,MAAM,sBAAb;EAAA,IAAeC,SAAS,sBAAxB;;EACA,IAAMC,KAAK,GAAG5B,KAAK,CAAC6B,MAAN7B,CAA6B,IAA7BA,CAAd;;EAEA,IAAM8B,WAAW,GAAG,SAAdA,WAAc,CAACC,CAAD,EAA8B;IAChD,IAAI,CAACA,CAAD,IAAMA,CAAC,CAACC,aAAFD,KAAoB,6BAA9B,EAA6D;MAC3DJ,SAAS,CAAC,IAAD,CAATA;IACF;EACD,CAJD;;EAKA,IAAMM,uBAAuB,GAAG9B,UAAU,CAAC2B,WAAD,EAAcP,QAAQ,KAAKrB,QAAQ,CAACgC,GAAtBX,GAA4B,GAA5BA,GAAkC,GAAhD,CAA1C;EACAvB,KAAK,CAACmC,SAANnC,CAAgB,YAAM;IACpB,CAAC0B,MAAD,IAAWO,uBAAuB,CAACG,GAAxBH,EAAX;EACD,CAFDjC,EAEG,CAACiC,uBAAD,EAA0BP,MAA1B,CAFH1B;;EAIA,cAAmBM,MAAM,EAAzB;EAAA,IAAQ+B,MAAM,WAANA,MAAR;;EACAhC,sBAAsB,CAACgC,MAAD,EAAS,WAAT,EAAsB,UAACN,CAAD,EAAE;IAAA,OAAKA,CAAC,CAACO,cAAFP,EAAL;EAAuB,CAA/C,EAAiD;IACrEQ,OAAO,EAAE;EAD4D,CAAjD,CAAtBlC;EAIA,oBACEL,wCACMsB,SADN,EACe;IACbD,SAAS,EAAEpB,UAAU,sBAEnBuC,MAAM,iCAA0B/B,MAA1B,EAFa,EAGnB+B,MAAM,iCAA0B5B,MAA1B,EAHa,EAInBE,OAAO,gCAJY,EAKnBY,MAAM,+BALa,EAMnBR,KAAK,8BANc,EAOnBF,OAAO,+BAPY,EAQnBK,SARmB,CADR;IAWboB,cAAc,EAAEf,MAAM,GAAGgB,SAAH,GAAeZ,WAXxB;IAYba,GAAG,EAAEf;EAZQ,CADf,GAaa,aAEX5B;IAAKqB,SAAS;EAAd,GAAmD,aACjDrB;IAAKqB,SAAS,8BAAd;IAAkDD,OAAO,EAAEA;EAA3D,EADF,EACwE,aACtEpB;IAAKqB,SAAS;EAAd,GAAmDF,QAAnD,CAFF,CAfF,CADF;AAsBD,CApDM;AAoDL;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;AAAA","names":["React","classNames","Platform","useTimeout","usePlatform","useGlobalEventListener","useDOM","PopoutWrapper","_ref","alignY","_ref$alignY","_ref$alignX","alignX","_ref$closing","closing","_ref$hasMask","hasMask","_ref$fixed","fixed","children","onClick","className","restProps","platform","useState","_React$useState2","opened","setOpened","elRef","useRef","onFadeInEnd","e","animationName","animationFinishFallback","IOS","useEffect","set","window","preventDefault","passive","styles","onAnimationEnd","undefined","ref"],"sources":["/Users/pitus_anonimous/Desktop/youth_bit_hack/youth_bit_vk/node_modules/@vkontakte/vkui/src/components/PopoutWrapper/PopoutWrapper.tsx"],"sourcesContent":["import * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { Platform } from '../../lib/platform';\nimport { useTimeout } from '../../hooks/useTimeout';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { useGlobalEventListener } from '../../hooks/useGlobalEventListener';\nimport { useDOM } from '../../lib/dom';\nimport styles from './PopoutWrapper.module.css';\n\nexport interface PopoutWrapperProps extends React.HTMLAttributes<HTMLDivElement> {\n  hasMask?: boolean;\n  fixed?: boolean;\n  alignY?: 'top' | 'center' | 'bottom';\n  alignX?: 'left' | 'center' | 'right';\n  closing?: boolean;\n}\n\n/**\n * @see https://vkcom.github.io/VKUI/#/PopoutWrapper\n */\nexport const PopoutWrapper = ({\n  alignY = 'center',\n  alignX = 'center',\n  closing = false,\n  hasMask = true,\n  fixed = true,\n  children,\n  onClick,\n  className,\n  ...restProps\n}: PopoutWrapperProps) => {\n  const platform = usePlatform();\n  const [opened, setOpened] = React.useState(!hasMask);\n  const elRef = React.useRef<HTMLDivElement>(null);\n\n  const onFadeInEnd = (e?: React.AnimationEvent) => {\n    if (!e || e.animationName === 'vkui-animation-full-fade-in') {\n      setOpened(true);\n    }\n  };\n  const animationFinishFallback = useTimeout(onFadeInEnd, platform === Platform.IOS ? 300 : 200);\n  React.useEffect(() => {\n    !opened && animationFinishFallback.set();\n  }, [animationFinishFallback, opened]);\n\n  const { window } = useDOM();\n  useGlobalEventListener(window, 'touchmove', (e) => e.preventDefault(), {\n    passive: false,\n  });\n\n  return (\n    <div\n      {...restProps}\n      className={classNames(\n        styles['PopoutWrapper'],\n        styles[`PopoutWrapper--alignY-${alignY}`],\n        styles[`PopoutWrapper--alignX-${alignX}`],\n        closing && styles['PopoutWrapper--closing'],\n        opened && styles['PopoutWrapper--opened'],\n        fixed && styles['PopoutWrapper--fixed'],\n        hasMask && styles['PopoutWrapper--masked'],\n        className,\n      )}\n      onAnimationEnd={opened ? undefined : onFadeInEnd}\n      ref={elRef}\n    >\n      <div className={styles['PopoutWrapper__container']}>\n        <div className={styles['PopoutWrapper__overlay']} onClick={onClick} />\n        <div className={styles['PopoutWrapper__content']}>{children}</div>\n      </div>\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}