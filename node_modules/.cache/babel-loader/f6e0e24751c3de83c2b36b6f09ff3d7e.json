{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"onChange\", \"disabled\"];\nimport * as React from 'react';\nexport function useEnsuredControl(_ref) {\n  var onChangeProp = _ref.onChange,\n      disabled = _ref.disabled,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var _useCustomEnsuredCont = useCustomEnsuredControl(props),\n      _useCustomEnsuredCont2 = _slicedToArray(_useCustomEnsuredCont, 2),\n      value = _useCustomEnsuredCont2[0],\n      onChangeValue = _useCustomEnsuredCont2[1];\n\n  var onChange = React.useCallback(function (e) {\n    if (disabled) {\n      return;\n    }\n\n    onChangeValue(e.target.value);\n    onChangeProp && onChangeProp(e);\n  }, [onChangeValue, onChangeProp, disabled]);\n  return [value, onChange];\n}\nexport function useCustomEnsuredControl(_ref2) {\n  var disabled = _ref2.disabled,\n      onChangeProp = _ref2.onChange,\n      defaultValue = _ref2.defaultValue,\n      value = _ref2.value;\n  var isControlled = value !== undefined;\n\n  var _React$useState = React.useState(defaultValue),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      localValue = _React$useState2[0],\n      setLocalValue = _React$useState2[1];\n\n  var onChange = React.useCallback(function (v) {\n    if (disabled) {\n      return;\n    }\n\n    !isControlled && setLocalValue(v);\n    onChangeProp && onChangeProp(v);\n  }, [disabled, isControlled, onChangeProp]);\n  return [isControlled ? value : localValue, onChange];\n}","map":{"version":3,"mappings":";;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AASA,OAAO,SAASC,iBAAT,CAA0BC,IAA1B,EAI0D;EAAA,IAHrDC,YAAY,QAAtBC,QAG+D;EAAA,IAF/DC,QAAQ,QAARA,QAE+D;EAAA,IAD5DC,KAAK,4CACuD;;EAC/D,4BAA+BC,uBAAuB,CAACD,KAAD,CAAtD;EAAA,IAA6DE,iEAA7D;EAAA,IAAOC,KAAK,4BAAZ;EAAA,IAAcC,aAAa,4BAA3B;;EAEA,IAAMN,QAAQ,GAAGJ,KAAK,CAACW,WAANX,CACf,UAACY,CAAD,EAAU;IACR,IAAIP,QAAJ,EAAc;MACZ;IACF;;IAEAK,aAAa,CAACE,CAAC,CAACC,MAAFD,CAASH,KAAV,CAAbC;IACAP,YAAY,IAAIA,YAAY,CAACS,CAAD,CAA5BT;EACD,CARcH,EASf,CAACU,aAAD,EAAgBP,YAAhB,EAA8BE,QAA9B,CATeL,CAAjB;EAYA,OAAO,CAACS,KAAD,EAAQL,QAAR,CAAP;AACF;AASA,OAAO,SAASG,uBAAT,CAAgCO,KAAhC,EAK6D;EAAA,IAJlET,QAAQ,SAARA,QAIkE;EAAA,IAHxDF,YAAY,SAAtBC,QAGkE;EAAA,IAFlEW,YAAY,SAAZA,YAEkE;EAAA,IADlEN,KAAK,SAALA,KACkE;EAClE,IAAMO,YAAY,GAAGP,KAAK,KAAKQ,SAA/B;;EACA,sBAAoCjB,KAAK,CAACkB,QAANlB,CAAee,YAAff,CAApC;EAAA,IAAgEmB,qDAAhE;EAAA,IAAOC,UAAU,sBAAjB;EAAA,IAAmBC,aAAa,sBAAhC;;EAEA,IAAMjB,QAAQ,GAAGJ,KAAK,CAACW,WAANX,CACf,UAACsB,CAAD,EAAU;IACR,IAAIjB,QAAJ,EAAc;MACZ;IACF;;IAEA,CAACW,YAAD,IAAiBK,aAAa,CAACC,CAAD,CAA9B;IACAnB,YAAY,IAAIA,YAAY,CAACmB,CAAD,CAA5BnB;EACD,CARcH,EASf,CAACK,QAAD,EAAWW,YAAX,EAAyBb,YAAzB,CATeH,CAAjB;EAYA,OAAO,CAACgB,YAAY,GAAGP,KAAH,GAAWW,UAAxB,EAAoChB,QAApC,CAAP;AACF","names":["React","useEnsuredControl","_ref","onChangeProp","onChange","disabled","props","useCustomEnsuredControl","_useCustomEnsuredCont2","value","onChangeValue","useCallback","e","target","_ref2","defaultValue","isControlled","undefined","useState","_React$useState2","localValue","setLocalValue","v"],"sources":["/Users/pitus_anonimous/Desktop/youth_bit_hack/youth_bit_vk/node_modules/@vkontakte/vkui/src/hooks/useEnsuredControl.ts"],"sourcesContent":["import * as React from 'react';\n\ninterface UseEnsuredControlProps<V, E extends React.ChangeEvent<any>> {\n  value?: V;\n  onChange?: (e: E) => any;\n  defaultValue: V;\n  disabled?: boolean | undefined;\n}\n\nexport function useEnsuredControl<V, E extends React.ChangeEvent<any>>({\n  onChange: onChangeProp,\n  disabled,\n  ...props\n}: UseEnsuredControlProps<V, E>): [V | undefined, (e: E) => any] {\n  const [value, onChangeValue] = useCustomEnsuredControl(props);\n\n  const onChange = React.useCallback(\n    (e: E) => {\n      if (disabled) {\n        return;\n      }\n\n      onChangeValue(e.target.value);\n      onChangeProp && onChangeProp(e);\n    },\n    [onChangeValue, onChangeProp, disabled],\n  );\n\n  return [value, onChange];\n}\n\ninterface UseCustomEnsuredControlProps<V> {\n  value?: V;\n  onChange?: (v: V) => any;\n  defaultValue: V;\n  disabled?: boolean | undefined;\n}\n\nexport function useCustomEnsuredControl<V>({\n  disabled,\n  onChange: onChangeProp,\n  defaultValue,\n  value,\n}: UseCustomEnsuredControlProps<V>): [V | undefined, (e: V) => any] {\n  const isControlled = value !== undefined;\n  const [localValue, setLocalValue] = React.useState(defaultValue);\n\n  const onChange = React.useCallback(\n    (v: V) => {\n      if (disabled) {\n        return;\n      }\n\n      !isControlled && setLocalValue(v);\n      onChangeProp && onChangeProp(v);\n    },\n    [disabled, isControlled, onChangeProp],\n  );\n\n  return [isControlled ? value : localValue, onChange];\n}\n"]},"metadata":{},"sourceType":"module"}