{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport * as React from 'react';\nimport { subMonths, addMonths, isSameDay, isBefore, endOfDay, isAfter, startOfDay } from '../lib/date';\nexport function useCalendar(_ref) {\n  var _ref2;\n\n  var value = _ref.value,\n      disablePast = _ref.disablePast,\n      disableFuture = _ref.disableFuture,\n      shouldDisableDate = _ref.shouldDisableDate,\n      onHeaderChange = _ref.onHeaderChange,\n      onNextMonth = _ref.onNextMonth,\n      onPrevMonth = _ref.onPrevMonth;\n\n  var _React$useState = React.useState((_ref2 = Array.isArray(value) ? value[0] : value) !== null && _ref2 !== void 0 ? _ref2 : new Date()),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      viewDate = _React$useState2[0],\n      setViewDate = _React$useState2[1];\n\n  var _React$useState3 = React.useState(),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      focusedDay = _React$useState4[0],\n      setFocusedDay = _React$useState4[1];\n\n  var setPrevMonth = React.useCallback(function () {\n    onPrevMonth === null || onPrevMonth === void 0 ? void 0 : onPrevMonth();\n    setViewDate(subMonths(viewDate, 1));\n  }, [viewDate, onPrevMonth]);\n  var setNextMonth = React.useCallback(function () {\n    onNextMonth === null || onNextMonth === void 0 ? void 0 : onNextMonth();\n    setViewDate(addMonths(viewDate, 1));\n  }, [viewDate, onNextMonth]);\n  var handleSetViewDate = React.useCallback(function (value) {\n    onHeaderChange === null || onHeaderChange === void 0 ? void 0 : onHeaderChange(value);\n    setViewDate(value);\n  }, [onHeaderChange]);\n  var isDayFocused = React.useCallback(function (day) {\n    return Boolean(focusedDay && isSameDay(day, focusedDay));\n  }, [focusedDay]);\n  var isDayDisabled = React.useCallback(function (day) {\n    var now = new Date();\n    var disabled = false;\n\n    if (disablePast) {\n      disabled = isBefore(endOfDay(day), now);\n    }\n\n    if (disableFuture) {\n      disabled = isAfter(startOfDay(day), now);\n    }\n\n    if (shouldDisableDate) {\n      disabled = shouldDisableDate(day);\n    }\n\n    return disabled;\n  }, [disableFuture, disablePast, shouldDisableDate]);\n  var resetSelectedDay = React.useCallback(function () {\n    setFocusedDay(undefined);\n  }, [setFocusedDay]);\n  return {\n    viewDate: viewDate,\n    setViewDate: handleSetViewDate,\n    setPrevMonth: setPrevMonth,\n    setNextMonth: setNextMonth,\n    focusedDay: focusedDay,\n    setFocusedDay: setFocusedDay,\n    isDayFocused: isDayFocused,\n    isDayDisabled: isDayDisabled,\n    resetSelectedDay: resetSelectedDay\n  };\n}","map":{"version":3,"mappings":"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","names":["React","subMonths","addMonths","isSameDay","isBefore","endOfDay","isAfter","startOfDay","useCalendar","_ref","value","disablePast","disableFuture","shouldDisableDate","onHeaderChange","onNextMonth","onPrevMonth","useState","Array","isArray","_ref2","Date","_React$useState2","viewDate","setViewDate","_React$useState4","focusedDay","setFocusedDay","setPrevMonth","useCallback","setNextMonth","handleSetViewDate","isDayFocused","day","Boolean","isDayDisabled","now","disabled","resetSelectedDay","undefined"],"sources":["/Users/pitus_anonimous/Desktop/youth_bit_hack/youth_bit_vk/node_modules/@vkontakte/vkui/src/hooks/useCalendar.ts"],"sourcesContent":["import * as React from 'react';\nimport {\n  subMonths,\n  addMonths,\n  isSameDay,\n  isBefore,\n  endOfDay,\n  isAfter,\n  startOfDay,\n} from '../lib/date';\nimport { CalendarProps } from '../components/Calendar/Calendar';\n\nexport interface UseCalendarDependencies\n  extends Pick<CalendarProps, 'onHeaderChange' | 'onNextMonth' | 'onPrevMonth'> {\n  value?: Array<Date | null> | Date;\n  disablePast?: boolean;\n  disableFuture?: boolean;\n  shouldDisableDate?(value: Date): boolean;\n}\n\nexport function useCalendar({\n  value,\n  disablePast,\n  disableFuture,\n  shouldDisableDate,\n  onHeaderChange,\n  onNextMonth,\n  onPrevMonth,\n}: UseCalendarDependencies) {\n  const [viewDate, setViewDate] = React.useState(\n    (Array.isArray(value) ? value[0] : value) ?? new Date(),\n  );\n  const [focusedDay, setFocusedDay] = React.useState<Date>();\n\n  const setPrevMonth = React.useCallback(() => {\n    onPrevMonth?.();\n    setViewDate(subMonths(viewDate, 1));\n  }, [viewDate, onPrevMonth]);\n  const setNextMonth = React.useCallback(() => {\n    onNextMonth?.();\n    setViewDate(addMonths(viewDate, 1));\n  }, [viewDate, onNextMonth]);\n\n  const handleSetViewDate = React.useCallback(\n    (value: Date) => {\n      onHeaderChange?.(value);\n      setViewDate(value);\n    },\n    [onHeaderChange],\n  );\n\n  const isDayFocused = React.useCallback(\n    (day: Date) => Boolean(focusedDay && isSameDay(day, focusedDay)),\n    [focusedDay],\n  );\n\n  const isDayDisabled = React.useCallback(\n    (day: Date) => {\n      const now = new Date();\n      let disabled = false;\n      if (disablePast) {\n        disabled = isBefore(endOfDay(day), now);\n      }\n      if (disableFuture) {\n        disabled = isAfter(startOfDay(day), now);\n      }\n      if (shouldDisableDate) {\n        disabled = shouldDisableDate(day);\n      }\n\n      return disabled;\n    },\n    [disableFuture, disablePast, shouldDisableDate],\n  );\n\n  const resetSelectedDay = React.useCallback(() => {\n    setFocusedDay(undefined);\n  }, [setFocusedDay]);\n\n  return {\n    viewDate,\n    setViewDate: handleSetViewDate,\n    setPrevMonth,\n    setNextMonth,\n    focusedDay,\n    setFocusedDay,\n    isDayFocused,\n    isDayDisabled,\n    resetSelectedDay,\n  };\n}\n"]},"metadata":{},"sourceType":"module"}