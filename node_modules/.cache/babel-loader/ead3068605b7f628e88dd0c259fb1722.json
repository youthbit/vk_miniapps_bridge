{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"value\", \"onChange\", \"disablePast\", \"disableFuture\", \"shouldDisableDate\", \"onClose\", \"weekStartsOn\", \"getRootRef\", \"disablePickers\", \"prevMonthAriaLabel\", \"nextMonthAriaLabel\", \"changeMonthAriaLabel\", \"changeYearAriaLabel\", \"changeDayAriaLabel\", \"prevMonthIcon\", \"nextMonthIcon\", \"className\", \"listenDayChangesForUpdate\"];\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { addMonths, isSameMonth, isSameDay, isBefore, isAfter, startOfDay, endOfDay, isWithinInterval } from '../../lib/date';\nimport { CalendarHeader } from '../CalendarHeader/CalendarHeader';\nimport { CalendarDays } from '../CalendarDays/CalendarDays';\nimport { navigateDate, setTimeEqual, isLastDay, isFirstDay } from '../../lib/calendar';\nimport { useCalendar } from '../../hooks/useCalendar';\n\nvar getIsDaySelected = function getIsDaySelected(day, value) {\n  if (!(value !== null && value !== void 0 && value[0]) || !value[1]) {\n    return false;\n  }\n\n  return Boolean(isWithinInterval(day, startOfDay(value[0]), endOfDay(value[1])));\n};\n/**\n * @see https://vkcom.github.io/VKUI/#/CalendarRange\n */\n\n\nexport var CalendarRange = function CalendarRange(_ref) {\n  var value = _ref.value,\n      onChange = _ref.onChange,\n      disablePast = _ref.disablePast,\n      disableFuture = _ref.disableFuture,\n      shouldDisableDate = _ref.shouldDisableDate,\n      onClose = _ref.onClose,\n      _ref$weekStartsOn = _ref.weekStartsOn,\n      weekStartsOn = _ref$weekStartsOn === void 0 ? 1 : _ref$weekStartsOn,\n      getRootRef = _ref.getRootRef,\n      disablePickers = _ref.disablePickers,\n      prevMonthAriaLabel = _ref.prevMonthAriaLabel,\n      nextMonthAriaLabel = _ref.nextMonthAriaLabel,\n      changeMonthAriaLabel = _ref.changeMonthAriaLabel,\n      changeYearAriaLabel = _ref.changeYearAriaLabel,\n      _ref$changeDayAriaLab = _ref.changeDayAriaLabel,\n      changeDayAriaLabel = _ref$changeDayAriaLab === void 0 ? 'Изменить день' : _ref$changeDayAriaLab,\n      prevMonthIcon = _ref.prevMonthIcon,\n      nextMonthIcon = _ref.nextMonthIcon,\n      className = _ref.className,\n      listenDayChangesForUpdate = _ref.listenDayChangesForUpdate,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var _useCalendar = useCalendar({\n    value: value,\n    disableFuture: disableFuture,\n    disablePast: disablePast,\n    shouldDisableDate: shouldDisableDate\n  }),\n      viewDate = _useCalendar.viewDate,\n      setViewDate = _useCalendar.setViewDate,\n      setPrevMonth = _useCalendar.setPrevMonth,\n      setNextMonth = _useCalendar.setNextMonth,\n      focusedDay = _useCalendar.focusedDay,\n      setFocusedDay = _useCalendar.setFocusedDay,\n      isDayFocused = _useCalendar.isDayFocused,\n      isDayDisabled = _useCalendar.isDayDisabled,\n      resetSelectedDay = _useCalendar.resetSelectedDay;\n\n  var _React$useState = React.useState(),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      hintedDate = _React$useState2[0],\n      setHintedDate = _React$useState2[1];\n\n  var secondViewDate = addMonths(viewDate, 1);\n  var handleKeyDown = React.useCallback(function (event) {\n    if (['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight'].includes(event.key)) {\n      event.preventDefault();\n    }\n\n    var newFocusedDay = navigateDate(focusedDay !== null && focusedDay !== void 0 ? focusedDay : value === null || value === void 0 ? void 0 : value[1], event.key);\n\n    if (newFocusedDay && !isSameMonth(newFocusedDay, viewDate) && !isSameMonth(newFocusedDay, addMonths(viewDate, 1))) {\n      setViewDate(newFocusedDay);\n    }\n\n    setFocusedDay(newFocusedDay);\n  }, [focusedDay, setFocusedDay, setViewDate, value, viewDate]);\n  var getNewValue = React.useCallback(function (date) {\n    if (!value) {\n      return [date, null];\n    }\n\n    var start = value[0];\n    var end = value[1];\n\n    if (start && isSameDay(date, start) || end && isSameDay(date, end)) {\n      return [setTimeEqual(date, start), setTimeEqual(date, end)];\n    } else if (start && isBefore(date, start)) {\n      return [setTimeEqual(date, start), end];\n    } else if (start && isAfter(date, start)) {\n      return [start, setTimeEqual(date, end)];\n    }\n\n    return value;\n  }, [value]);\n  var onDayChange = React.useCallback(function (date) {\n    onChange === null || onChange === void 0 ? void 0 : onChange(getNewValue(date));\n    setHintedDate(undefined);\n  }, [onChange, getNewValue]);\n  var isDaySelected = React.useCallback(function (day) {\n    return getIsDaySelected(day, value);\n  }, [value]);\n  var isDayActive = React.useCallback(function (day) {\n    return Boolean((value === null || value === void 0 ? void 0 : value[0]) && isSameDay(day, value[0]) || (value === null || value === void 0 ? void 0 : value[1]) && isSameDay(day, value[1]));\n  }, [value]);\n  var isDaySelectionEnd = React.useCallback(function (day, dayOfWeek) {\n    return Boolean(isLastDay(day, dayOfWeek) || (value === null || value === void 0 ? void 0 : value[1]) && isSameDay(day, value[1]));\n  }, [value]);\n  var isHintedDaySelectionEnd = React.useCallback(function (day, dayOfWeek) {\n    return Boolean(isLastDay(day, dayOfWeek) || (hintedDate === null || hintedDate === void 0 ? void 0 : hintedDate[1]) && isSameDay(day, hintedDate[1]));\n  }, [hintedDate]);\n  var isDaySelectionStart = React.useCallback(function (day, dayOfWeek) {\n    return Boolean(isFirstDay(day, dayOfWeek) || (value === null || value === void 0 ? void 0 : value[0]) && isSameDay(day, value[0]));\n  }, [value]);\n  var isHintedDaySelectionStart = React.useCallback(function (day, dayOfWeek) {\n    return Boolean(isFirstDay(day, dayOfWeek) || (hintedDate === null || hintedDate === void 0 ? void 0 : hintedDate[0]) && isSameDay(day, hintedDate[0]));\n  }, [hintedDate]);\n  var onDayEnter = React.useCallback(function (date) {\n    return setHintedDate(getNewValue(date));\n  }, [setHintedDate, getNewValue]);\n  var onDayLeave = React.useCallback(function () {\n    return setHintedDate(undefined);\n  }, [setHintedDate]);\n  var isDayHinted = React.useCallback(function (day) {\n    return getIsDaySelected(day, hintedDate);\n  }, [hintedDate]);\n  return /*#__PURE__*/React.createElement(\"div\", _extends({}, props, {\n    ref: getRootRef,\n    className: classNames(\"vkuiCalendarRange\", className)\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vkuiCalendarRange__inner\"\n  }, /*#__PURE__*/React.createElement(CalendarHeader, {\n    viewDate: viewDate,\n    onChange: setViewDate,\n    nextMonth: false,\n    onPrevMonth: setPrevMonth,\n    disablePickers: disablePickers,\n    className: \"vkuiCalendarRange__header\",\n    prevMonthAriaLabel: prevMonthAriaLabel,\n    nextMonthAriaLabel: nextMonthAriaLabel,\n    changeMonthAriaLabel: changeMonthAriaLabel,\n    changeYearAriaLabel: changeYearAriaLabel,\n    prevMonthIcon: prevMonthIcon\n  }), /*#__PURE__*/React.createElement(CalendarDays, {\n    viewDate: viewDate,\n    value: value,\n    weekStartsOn: weekStartsOn,\n    onKeyDown: handleKeyDown,\n    isDayFocused: isDayFocused,\n    onDayChange: onDayChange,\n    isDaySelected: isDaySelected,\n    isDayActive: isDayActive,\n    isDaySelectionEnd: isDaySelectionEnd,\n    isDaySelectionStart: isDaySelectionStart,\n    isDayHinted: isDayHinted,\n    onDayEnter: onDayEnter,\n    onDayLeave: onDayLeave,\n    isHintedDaySelectionEnd: isHintedDaySelectionEnd,\n    isHintedDaySelectionStart: isHintedDaySelectionStart,\n    isDayDisabled: isDayDisabled,\n    listenDayChangesForUpdate: listenDayChangesForUpdate,\n    \"aria-label\": changeDayAriaLabel\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vkuiCalendarRange__inner\"\n  }, /*#__PURE__*/React.createElement(CalendarHeader, {\n    viewDate: secondViewDate,\n    onChange: setViewDate,\n    prevMonth: false,\n    onNextMonth: setNextMonth,\n    disablePickers: disablePickers,\n    className: \"vkuiCalendarRange__header\",\n    prevMonthAriaLabel: prevMonthAriaLabel,\n    nextMonthAriaLabel: nextMonthAriaLabel,\n    changeMonthAriaLabel: changeMonthAriaLabel,\n    changeYearAriaLabel: changeYearAriaLabel,\n    nextMonthIcon: nextMonthIcon\n  }), /*#__PURE__*/React.createElement(CalendarDays, {\n    viewDate: secondViewDate,\n    value: value,\n    weekStartsOn: weekStartsOn,\n    \"aria-label\": changeDayAriaLabel,\n    onKeyDown: handleKeyDown,\n    isDayFocused: isDayFocused,\n    onDayChange: onDayChange,\n    isDaySelected: isDaySelected,\n    isDayActive: isDayActive,\n    isDaySelectionEnd: isDaySelectionEnd,\n    isDaySelectionStart: isDaySelectionStart,\n    isDayHinted: isDayHinted,\n    onDayEnter: onDayEnter,\n    onDayLeave: onDayLeave,\n    isHintedDaySelectionEnd: isHintedDaySelectionEnd,\n    isHintedDaySelectionStart: isHintedDaySelectionStart,\n    isDayDisabled: isDayDisabled,\n    listenDayChangesForUpdate: listenDayChangesForUpdate,\n    tabIndex: 0,\n    onBlur: resetSelectedDay\n  })));\n};","map":{"version":3,"mappings":"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","names":["React","classNames","addMonths","isSameMonth","isSameDay","isBefore","isAfter","startOfDay","endOfDay","isWithinInterval","CalendarHeader","CalendarDays","navigateDate","setTimeEqual","isLastDay","isFirstDay","useCalendar","getIsDaySelected","day","value","Boolean","CalendarRange","_ref","onChange","disablePast","disableFuture","shouldDisableDate","onClose","_ref$weekStartsOn","weekStartsOn","getRootRef","disablePickers","prevMonthAriaLabel","nextMonthAriaLabel","changeMonthAriaLabel","changeYearAriaLabel","_ref$changeDayAriaLab","changeDayAriaLabel","prevMonthIcon","nextMonthIcon","className","listenDayChangesForUpdate","props","viewDate","setViewDate","setPrevMonth","setNextMonth","focusedDay","setFocusedDay","isDayFocused","isDayDisabled","resetSelectedDay","useState","_React$useState2","hintedDate","setHintedDate","secondViewDate","handleKeyDown","useCallback","event","includes","key","preventDefault","newFocusedDay","getNewValue","date","start","end","onDayChange","undefined","isDaySelected","isDayActive","isDaySelectionEnd","dayOfWeek","isHintedDaySelectionEnd","isDaySelectionStart","isHintedDaySelectionStart","onDayEnter","onDayLeave","isDayHinted","ref","nextMonth","onPrevMonth","onKeyDown","prevMonth","onNextMonth","tabIndex","onBlur"],"sources":["/Users/pitus_anonimous/Desktop/youth_bit_hack/youth_bit_vk/node_modules/@vkontakte/vkui/src/components/CalendarRange/CalendarRange.tsx"],"sourcesContent":["import * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport {\n  addMonths,\n  isSameMonth,\n  isSameDay,\n  isBefore,\n  isAfter,\n  startOfDay,\n  endOfDay,\n  isWithinInterval,\n} from '../../lib/date';\nimport { CalendarHeader, CalendarHeaderProps } from '../CalendarHeader/CalendarHeader';\nimport { CalendarDays, CalendarDaysProps } from '../CalendarDays/CalendarDays';\nimport { navigateDate, setTimeEqual, isLastDay, isFirstDay } from '../../lib/calendar';\nimport { useCalendar } from '../../hooks/useCalendar';\nimport { HasRootRef } from '../../types';\nimport styles from './CalendarRange.module.css';\n\nexport interface CalendarRangeProps\n  extends Omit<React.HTMLAttributes<HTMLDivElement>, 'onChange'>,\n    Pick<\n      CalendarHeaderProps,\n      | 'prevMonthAriaLabel'\n      | 'nextMonthAriaLabel'\n      | 'changeMonthAriaLabel'\n      | 'changeYearAriaLabel'\n      | 'prevMonthIcon'\n      | 'nextMonthIcon'\n    >,\n    Pick<CalendarDaysProps, 'listenDayChangesForUpdate'>,\n    HasRootRef<HTMLDivElement> {\n  value?: Array<Date | null>;\n  disablePast?: boolean;\n  disableFuture?: boolean;\n  disablePickers?: boolean;\n  changeDayAriaLabel?: string;\n  weekStartsOn?: 0 | 1 | 2 | 3 | 4 | 5 | 6;\n  onChange?(value?: Array<Date | null>): void;\n  shouldDisableDate?(value: Date): boolean;\n  onClose?(): void;\n}\n\nconst getIsDaySelected = (day: Date, value?: Array<Date | null>) => {\n  if (!value?.[0] || !value[1]) {\n    return false;\n  }\n\n  return Boolean(isWithinInterval(day, startOfDay(value[0]), endOfDay(value[1])));\n};\n\n/**\n * @see https://vkcom.github.io/VKUI/#/CalendarRange\n */\nexport const CalendarRange = ({\n  value,\n  onChange,\n  disablePast,\n  disableFuture,\n  shouldDisableDate,\n  onClose,\n  weekStartsOn = 1,\n  getRootRef,\n  disablePickers,\n  prevMonthAriaLabel,\n  nextMonthAriaLabel,\n  changeMonthAriaLabel,\n  changeYearAriaLabel,\n  changeDayAriaLabel = 'Изменить день',\n  prevMonthIcon,\n  nextMonthIcon,\n  className,\n  listenDayChangesForUpdate,\n  ...props\n}: CalendarRangeProps) => {\n  const {\n    viewDate,\n    setViewDate,\n    setPrevMonth,\n    setNextMonth,\n    focusedDay,\n    setFocusedDay,\n    isDayFocused,\n    isDayDisabled,\n    resetSelectedDay,\n  } = useCalendar({ value, disableFuture, disablePast, shouldDisableDate });\n  const [hintedDate, setHintedDate] = React.useState<Array<Date | null>>();\n  const secondViewDate = addMonths(viewDate, 1);\n\n  const handleKeyDown = React.useCallback(\n    (event: React.KeyboardEvent) => {\n      if (['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight'].includes(event.key)) {\n        event.preventDefault();\n      }\n\n      const newFocusedDay = navigateDate(focusedDay ?? value?.[1], event.key);\n\n      if (\n        newFocusedDay &&\n        !isSameMonth(newFocusedDay, viewDate) &&\n        !isSameMonth(newFocusedDay, addMonths(viewDate, 1))\n      ) {\n        setViewDate(newFocusedDay);\n      }\n      setFocusedDay(newFocusedDay);\n    },\n    [focusedDay, setFocusedDay, setViewDate, value, viewDate],\n  );\n\n  const getNewValue = React.useCallback(\n    (date: Date) => {\n      if (!value) {\n        return [date, null];\n      }\n\n      const start = value[0];\n      const end = value[1];\n      if ((start && isSameDay(date, start)) || (end && isSameDay(date, end))) {\n        return [setTimeEqual(date, start), setTimeEqual(date, end)];\n      } else if (start && isBefore(date, start)) {\n        return [setTimeEqual(date, start), end];\n      } else if (start && isAfter(date, start)) {\n        return [start, setTimeEqual(date, end)];\n      }\n\n      return value;\n    },\n    [value],\n  );\n\n  const onDayChange = React.useCallback(\n    (date: Date) => {\n      onChange?.(getNewValue(date));\n      setHintedDate(undefined);\n    },\n    [onChange, getNewValue],\n  );\n\n  const isDaySelected = React.useCallback((day: Date) => getIsDaySelected(day, value), [value]);\n\n  const isDayActive = React.useCallback(\n    (day: Date) =>\n      Boolean((value?.[0] && isSameDay(day, value[0])) || (value?.[1] && isSameDay(day, value[1]))),\n    [value],\n  );\n\n  const isDaySelectionEnd = React.useCallback(\n    (day: Date, dayOfWeek: number) =>\n      Boolean(isLastDay(day, dayOfWeek) || (value?.[1] && isSameDay(day, value[1]))),\n    [value],\n  );\n\n  const isHintedDaySelectionEnd = React.useCallback(\n    (day: Date, dayOfWeek: number) =>\n      Boolean(isLastDay(day, dayOfWeek) || (hintedDate?.[1] && isSameDay(day, hintedDate[1]))),\n    [hintedDate],\n  );\n\n  const isDaySelectionStart = React.useCallback(\n    (day: Date, dayOfWeek: number) =>\n      Boolean(isFirstDay(day, dayOfWeek) || (value?.[0] && isSameDay(day, value[0]))),\n    [value],\n  );\n\n  const isHintedDaySelectionStart = React.useCallback(\n    (day: Date, dayOfWeek: number) =>\n      Boolean(isFirstDay(day, dayOfWeek) || (hintedDate?.[0] && isSameDay(day, hintedDate[0]))),\n    [hintedDate],\n  );\n\n  const onDayEnter = React.useCallback(\n    (date: Date) => setHintedDate(getNewValue(date)),\n    [setHintedDate, getNewValue],\n  );\n\n  const onDayLeave = React.useCallback(() => setHintedDate(undefined), [setHintedDate]);\n\n  const isDayHinted = React.useCallback(\n    (day: Date) => getIsDaySelected(day, hintedDate),\n    [hintedDate],\n  );\n\n  return (\n    <div {...props} ref={getRootRef} className={classNames(styles['CalendarRange'], className)}>\n      <div className={styles['CalendarRange__inner']}>\n        <CalendarHeader\n          viewDate={viewDate}\n          onChange={setViewDate}\n          nextMonth={false}\n          onPrevMonth={setPrevMonth}\n          disablePickers={disablePickers}\n          className={styles['CalendarRange__header']}\n          prevMonthAriaLabel={prevMonthAriaLabel}\n          nextMonthAriaLabel={nextMonthAriaLabel}\n          changeMonthAriaLabel={changeMonthAriaLabel}\n          changeYearAriaLabel={changeYearAriaLabel}\n          prevMonthIcon={prevMonthIcon}\n        />\n        <CalendarDays\n          viewDate={viewDate}\n          value={value}\n          weekStartsOn={weekStartsOn}\n          onKeyDown={handleKeyDown}\n          isDayFocused={isDayFocused}\n          onDayChange={onDayChange}\n          isDaySelected={isDaySelected}\n          isDayActive={isDayActive}\n          isDaySelectionEnd={isDaySelectionEnd}\n          isDaySelectionStart={isDaySelectionStart}\n          isDayHinted={isDayHinted}\n          onDayEnter={onDayEnter}\n          onDayLeave={onDayLeave}\n          isHintedDaySelectionEnd={isHintedDaySelectionEnd}\n          isHintedDaySelectionStart={isHintedDaySelectionStart}\n          isDayDisabled={isDayDisabled}\n          listenDayChangesForUpdate={listenDayChangesForUpdate}\n          aria-label={changeDayAriaLabel}\n        />\n      </div>\n      <div className={styles['CalendarRange__inner']}>\n        <CalendarHeader\n          viewDate={secondViewDate}\n          onChange={setViewDate}\n          prevMonth={false}\n          onNextMonth={setNextMonth}\n          disablePickers={disablePickers}\n          className={styles['CalendarRange__header']}\n          prevMonthAriaLabel={prevMonthAriaLabel}\n          nextMonthAriaLabel={nextMonthAriaLabel}\n          changeMonthAriaLabel={changeMonthAriaLabel}\n          changeYearAriaLabel={changeYearAriaLabel}\n          nextMonthIcon={nextMonthIcon}\n        />\n        <CalendarDays\n          viewDate={secondViewDate}\n          value={value}\n          weekStartsOn={weekStartsOn}\n          aria-label={changeDayAriaLabel}\n          onKeyDown={handleKeyDown}\n          isDayFocused={isDayFocused}\n          onDayChange={onDayChange}\n          isDaySelected={isDaySelected}\n          isDayActive={isDayActive}\n          isDaySelectionEnd={isDaySelectionEnd}\n          isDaySelectionStart={isDaySelectionStart}\n          isDayHinted={isDayHinted}\n          onDayEnter={onDayEnter}\n          onDayLeave={onDayLeave}\n          isHintedDaySelectionEnd={isHintedDaySelectionEnd}\n          isHintedDaySelectionStart={isHintedDaySelectionStart}\n          isDayDisabled={isDayDisabled}\n          listenDayChangesForUpdate={listenDayChangesForUpdate}\n          tabIndex={0}\n          onBlur={resetSelectedDay}\n        />\n      </div>\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}