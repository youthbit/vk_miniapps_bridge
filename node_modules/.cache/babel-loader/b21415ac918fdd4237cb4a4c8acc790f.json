{"ast":null,"code":"import * as React from 'react';\nimport { ScrollContext } from '../AppRoot/ScrollContext';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\n/**\n * @see https://vkcom.github.io/VKUI/#/ScrollSaver\n */\n\nexport var ScrollSaver = function ScrollSaver(_ref) {\n  var children = _ref.children,\n      initialScroll = _ref.initialScroll,\n      saveScroll = _ref.saveScroll;\n\n  var _React$useContext = React.useContext(ScrollContext),\n      getScroll = _React$useContext.getScroll,\n      scrollTo = _React$useContext.scrollTo;\n\n  useIsomorphicLayoutEffect(function () {\n    if (typeof initialScroll === 'number') {\n      scrollTo(0, initialScroll);\n    }\n\n    return function () {\n      return saveScroll(getScroll().y);\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, children);\n};","map":{"version":3,"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,aAAT,QAA8B,0BAA9B;AACA,SAASC,yBAAT,QAA0C,qCAA1C;AAQA;AACA;AACA;;AACA,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAAHC,IAAG,EAA+D;EAAA,IAA5DC,QAAQ,QAARA,QAA4D;EAAA,IAAlDC,aAAa,QAAbA,aAAkD;EAAA,IAAnCC,UAAU,QAAVA,UAAmC;;EACxF,wBAAgCP,KAAK,CAACQ,UAANR,CAAiBC,aAAjBD,CAAhC;EAAA,IAAQS,SAAS,qBAATA,SAAR;EAAA,IAAmBC,QAAQ,qBAARA,QAAnB;;EACAR,yBAAyB,CAAC,YAAM;IAC9B,IAAI,OAAOI,aAAP,KAAyB,QAA7B,EAAuC;MACrCI,QAAQ,CAAC,CAAD,EAAIJ,aAAJ,CAARI;IACF;;IACA,OAAO;MAAA,OAAMH,UAAU,CAACE,SAAS,GAAGE,CAAb,CAAhB;IAA+B,CAAtC;EACD,CALwB,EAKtB,EALsB,CAAzBT;EAMA,oBAAOF,oBAACA,KAAK,CAACY,QAAP,EAAe,IAAf,EAAiBP,QAAjB,CAAP;AACD,CATM","names":["React","ScrollContext","useIsomorphicLayoutEffect","ScrollSaver","_ref","children","initialScroll","saveScroll","useContext","getScroll","scrollTo","y","Fragment"],"sources":["/Users/pitus_anonimous/Desktop/youth_bit_hack/youth_bit_vk/node_modules/@vkontakte/vkui/src/components/Epic/ScrollSaver.tsx"],"sourcesContent":["import * as React from 'react';\nimport { ScrollContext } from '../AppRoot/ScrollContext';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\n\nexport interface ScrollSaverProps {\n  initialScroll?: number;\n  saveScroll: (this: void, scroll: number) => any;\n  children?: React.ReactNode;\n}\n\n/**\n * @see https://vkcom.github.io/VKUI/#/ScrollSaver\n */\nexport const ScrollSaver = ({ children, initialScroll, saveScroll }: ScrollSaverProps) => {\n  const { getScroll, scrollTo } = React.useContext(ScrollContext);\n  useIsomorphicLayoutEffect(() => {\n    if (typeof initialScroll === 'number') {\n      scrollTo(0, initialScroll);\n    }\n    return () => saveScroll(getScroll().y);\n  }, []);\n  return <React.Fragment>{children}</React.Fragment>;\n};\n"]},"metadata":{},"sourceType":"module"}